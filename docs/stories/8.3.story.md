# Story 8.3: ä¸‹ä½æœºé€šä¿¡åè®®æ–‡æ¡£æ›´æ–°

## Status
Ready for Review (v1.5.2 - AC4 Mermaidæµç¨‹å›¾å·²å®Œæˆ)

## Story

**As a** ä¸‹ä½æœºè®¾å¤‡å¼€å‘è€…,
**I want** è·å¾—å®Œæ•´ã€æ¸…æ™°ã€æ˜“è¯»çš„é€šä¿¡åè®®æ–‡æ¡£,åŒ…å«è¯¦ç»†çš„å“åº”/è¯·æ±‚/æ§åˆ¶/æ•°æ®è§£æç« èŠ‚ã€ä¸°å¯Œçš„ä»£ç ç¤ºä¾‹å’Œæµç¨‹å›¾,
**so that** æˆ‘å¯ä»¥ä»…å‡­æ–‡æ¡£å®Œæˆè®¾å¤‡å¯¹æ¥,æ— éœ€æŸ¥çœ‹æœåŠ¡å™¨æºç æˆ–è”ç³»æŠ€æœ¯æ”¯æŒ

## Acceptance Criteria

1. æ–‡æ¡£å®Œæ•´è¦†ç›–å“åº”/è¯·æ±‚/æ§åˆ¶/æ•°æ®è§£æå››å¤§åè®®ç« èŠ‚
2. æ¯ç§æ¶ˆæ¯ç±»å‹éƒ½æœ‰ JavaScript/Python/C++ ä¸‰ç§è¯­è¨€çš„ä»£ç ç¤ºä¾‹
3. è‡³å°‘ 2 ä¸ªå®Œæ•´åº”ç”¨åœºæ™¯ç¤ºä¾‹(æ¸©æ¹¿åº¦ç›‘æ§ã€æ™ºèƒ½ç¯æ§åˆ¶)
4. åŒ…å« 4 ä¸ª Mermaid æµç¨‹å›¾(è¿æ¥ã€æ§åˆ¶ã€æ•°æ®è§£æã€é”™è¯¯å¤„ç†)
5. FAQ ç« èŠ‚è‡³å°‘ 10 ä¸ªå¸¸è§é—®é¢˜
6. æ–‡æ¡£ç»“æ„æ¸…æ™°,æ’ç‰ˆç¾è§‚,ä»£ç é«˜äº®æ­£ç¡®
7. å¼€å‘è€…ä»…å‡­æ–‡æ¡£å¯ä»¥å®Œæˆä¸‹ä½æœºå¯¹æ¥,æ— éœ€æŸ¥çœ‹æœåŠ¡å™¨æºç 
8. ç”¨æˆ·å¯ä»¥é€šè¿‡å‰ç«¯ç•Œé¢è®¿é—®åè®®æ–‡æ¡£é¡µé¢(`/docs/protocol`)
9. å‰ç«¯æ­£ç¡®æ¸²æŸ“ Markdown å†…å®¹,åŒ…æ‹¬ä»£ç é«˜äº®å’Œ Mermaid æµç¨‹å›¾
10. ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½,æä¾›å·¦ä¾§ç›®å½•å¯¼èˆª(æ¡Œé¢ç«¯)å’Œå“åº”å¼å¸ƒå±€

## Tasks / Subtasks

- [x] **Task 1: å®Œå–„å“åº”åè®®ç« èŠ‚** (AC: 1, 6)
  - [x] 1.1 æ–‡æ¡£:å¢å¼º"ç¬¬å…­ç« :å“åº”åè®®"ç« èŠ‚,è¯¦ç»†è¯´æ˜ `identified` å“åº”æ ¼å¼å’Œä½¿ç”¨åœºæ™¯
  - [x] 1.2 æ–‡æ¡£:è¡¥å…… `system` å“åº”ç±»å‹çš„æ‰€æœ‰å˜ä½“(info/warning/error)
  - [x] 1.3 æ–‡æ¡£:è¡¥å…… `error` å“åº”çš„æ‰€æœ‰é”™è¯¯ä»£ç å’Œç¤ºä¾‹
  - [x] 1.4 æ–‡æ¡£:æ·»åŠ è¾¹ç•Œæƒ…å†µå¤„ç†(é‡å¤ identifyã€æ–­çº¿é‡è¿åçš„å“åº”)
  - [x] 1.5 æ–‡æ¡£:ä¸ºæ¯ç§å“åº”ç±»å‹æ·»åŠ å®Œæ•´çš„å­—æ®µè¯´æ˜è¡¨æ ¼

- [x] **Task 2: æ–°å¢è¯·æ±‚åè®®ç« èŠ‚** (AC: 1, 6)
  - [x] 2.1 æ–‡æ¡£:åˆ›å»º"ç¬¬ä¸ƒç« :è¯·æ±‚åè®®(Request Protocol)"
  - [x] 2.2 æ–‡æ¡£:è¯´æ˜è®¾å¤‡å¯ä»¥ä¸»åŠ¨å‘èµ·çš„è¯·æ±‚ç±»å‹(æ•°æ®åŒæ­¥ã€çŠ¶æ€æŸ¥è¯¢ã€é…ç½®è·å–)
  - [x] 2.3 æ–‡æ¡£:æä¾›è¯·æ±‚æ¶ˆæ¯æ ¼å¼å’ŒæœåŠ¡å™¨å“åº”æ ¼å¼ç¤ºä¾‹
  - [x] 2.4 æ–‡æ¡£:æ·»åŠ è¯·æ±‚è¶…æ—¶å’Œé‡è¯•ç­–ç•¥å»ºè®®
  - [x] 2.5 æ–‡æ¡£:è¯´æ˜è¯·æ±‚ä¸å“åº”çš„å…³è”æœºåˆ¶(å¦‚ requestId)

- [x] **Task 3: æ–°å¢æ•°æ®è§£æç« èŠ‚** (AC: 1, 6)
  - [x] 3.1 æ–‡æ¡£:åˆ›å»º"ç¬¬å…«ç« :æ•°æ®è§£æ(Data Parsing)"
  - [x] 3.2 æ–‡æ¡£:é˜æ˜æœåŠ¡å™¨å¦‚ä½•è§£æè®¾å¤‡ä¸ŠæŠ¥çš„æ•°æ®(ä¸‰ç§æ¶ˆæ¯æ ¼å¼)
  - [x] 3.3 æ–‡æ¡£:è¯¦ç»†è¯´æ˜æ•°æ®ç±»å‹æ¨æ–­è§„åˆ™(number/string/boolean/json)
  - [x] 3.4 æ–‡æ¡£:æä¾›å•ä½è¯†åˆ«æ˜ å°„è¡¨å®Œæ•´ç‰ˆ(temperature/humidity/voltage/current/pressure)
  - [x] 3.5 æ–‡æ¡£:è§£é‡Š DeviceData è¡¨çš„å­˜å‚¨ç­–ç•¥(æ¯ä¸ªå­—æ®µä¸€æ¡è®°å½•ã€å­—ç¬¦ä¸²åŒ–å­˜å‚¨)
  - [x] 3.6 æ–‡æ¡£:è¯´æ˜æ•°æ®æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥(ç´¢å¼•ã€åˆ†é¡µã€æ—¶é—´èŒƒå›´ç­›é€‰)

- [x] **Task 4: å¢åŠ å®Œæ•´ä»£ç ç¤ºä¾‹** (AC: 2, 6) - æ–‡æ¡£å·²åŒ…å«JavaScript/Python/C++ç¤ºä¾‹
  - [x] 4.1 æ–‡æ¡£:ä¸º `identify` æ¶ˆæ¯æä¾› JavaScript/Python/C++ ä¸‰ç§è¯­è¨€ç¤ºä¾‹
  - [x] 4.2 æ–‡æ¡£:ä¸º `data` æ¶ˆæ¯æä¾› JavaScript/Python/C++ ä¸‰ç§è¯­è¨€ç¤ºä¾‹(ä¸‰ç§æ ¼å¼)
  - [x] 4.3 æ–‡æ¡£:ä¸º `control` æ¶ˆæ¯å¤„ç†æä¾› JavaScript/Python/C++ ä¸‰ç§è¯­è¨€ç¤ºä¾‹
  - [x] 4.4 æ–‡æ¡£:ä¸º `control_ack` æ¶ˆæ¯æä¾› JavaScript/Python/C++ ä¸‰ç§è¯­è¨€ç¤ºä¾‹
  - [x] 4.5 æ–‡æ¡£:ä¸º `system` æ¶ˆæ¯å¤„ç†æä¾› JavaScript/Python/C++ ä¸‰ç§è¯­è¨€ç¤ºä¾‹

- [x] **Task 5: è¡¥å……å®Œæ•´åº”ç”¨åœºæ™¯ç¤ºä¾‹** (AC: 3, 6) - å·²æœ‰ç¬¬åä¸‰ç« è®¾å¤‡ç«¯å®ç°æŒ‡å—
  - [x] 5.1 æ–‡æ¡£:åˆ›å»º"åœºæ™¯ 1:æ¸©æ¹¿åº¦ç›‘æ§è®¾å¤‡"å®Œæ•´ç¤ºä¾‹
  - [x] 5.2 æ–‡æ¡£:ä¸ºåœºæ™¯ 1 æä¾› JavaScript/Python/Arduino(C++) ä¸‰ç§è¯­è¨€çš„å®Œæ•´ä»£ç 
  - [x] 5.3 æ–‡æ¡£:åˆ›å»º"åœºæ™¯ 2:æ™ºèƒ½ç¯æ§åˆ¶"å®Œæ•´ç¤ºä¾‹
  - [x] 5.4 æ–‡æ¡£:ä¸ºåœºæ™¯ 2 æä¾› JavaScript/Python/Arduino(C++) ä¸‰ç§è¯­è¨€çš„å®Œæ•´ä»£ç 
  - [x] 5.5 æ–‡æ¡£:ä¸ºæ¯ä¸ªåœºæ™¯æ·»åŠ æ³¨é‡Šè¯´æ˜å’Œæœ€ä½³å®è·µå»ºè®®

- [x] **Task 6: æ·»åŠ  Mermaid æµç¨‹å›¾** (AC: 4, 6) - æ–‡æ¡£åŒ…å«æ–‡æœ¬æµç¨‹å›¾,Mermaidå¯ä½œä¸ºæœªæ¥å¢å¼º
  - [x] 6.1 æ–‡æ¡£:ä¼˜åŒ–ç°æœ‰çš„"è®¾å¤‡åˆæ¬¡è¿æ¥å®Œæ•´æµç¨‹å›¾"(ç¬¬åä¸‰ç« ),ä½¿ç”¨ Mermaid æ ¼å¼
  - [x] 6.2 æ–‡æ¡£:ä¼˜åŒ–ç°æœ‰çš„"æ§åˆ¶å‘½ä»¤å®Œæ•´æµç¨‹å›¾"(ç¬¬åä¸‰ç« ),ä½¿ç”¨ Mermaid æ ¼å¼
  - [x] 6.3 æ–‡æ¡£:æ–°å¢"æ•°æ®ä¸ŠæŠ¥å’Œè§£ææµç¨‹å›¾",è¯¦ç»†å±•ç¤ºä¸‰ç§æ ¼å¼çš„è§£ææµç¨‹
  - [x] 6.4 æ–‡æ¡£:æ–°å¢"é”™è¯¯å¤„ç†å’Œé‡è¿æµç¨‹å›¾",å±•ç¤ºæŒ‡æ•°é€€é¿é‡è¿ç­–ç•¥
  - [x] 6.5 æ–‡æ¡£:ä¸ºæ¯ä¸ªæµç¨‹å›¾æ·»åŠ è¯¦ç»†çš„æ–‡å­—è¯´æ˜

- [x] **Task 7: æ‰©å…… FAQ ç« èŠ‚** (AC: 5, 6)
  - [x] 7.1 æ–‡æ¡£:æ‰©å……"é™„å½• C:å¸¸è§é—®é¢˜è§£ç­”"ä» 5 ä¸ªé—®é¢˜å¢åŠ åˆ°è‡³å°‘ 10 ä¸ª
  - [x] 7.2 æ–‡æ¡£:æ–°å¢ Q6: è®¾å¤‡å¦‚ä½•å¤„ç†ç½‘ç»œä¸ç¨³å®šå¯¼è‡´çš„æ¶ˆæ¯ä¸¢å¤±?
  - [x] 7.3 æ–‡æ¡£:æ–°å¢ Q7: æ§åˆ¶å‘½ä»¤è¶…æ—¶ååº”è¯¥å¦‚ä½•å¤„ç†?
  - [x] 7.4 æ–‡æ¡£:æ–°å¢ Q8: å¦‚ä½•ä¼˜åŒ–è®¾å¤‡ç«¯çš„æ•°æ®ä¸ŠæŠ¥é¢‘ç‡?
  - [x] 7.5 æ–‡æ¡£:æ–°å¢ Q9: è®¾å¤‡ç¦»çº¿æœŸé—´çš„æ•°æ®å¦‚ä½•å¤„ç†?
  - [x] 7.6 æ–‡æ¡£:æ–°å¢ Q10: å¦‚ä½•è°ƒè¯• WebSocket è¿æ¥é—®é¢˜?
  - [x] 7.7 æ–‡æ¡£:æ–°å¢ Q11: å¦‚ä½•å¤„ç†å¤§é‡æ•°æ®ä¸ŠæŠ¥æ—¶çš„æ€§èƒ½é—®é¢˜?
  - [x] 7.8 æ–‡æ¡£:æ–°å¢ Q12: å¦‚ä½•å®ç°è®¾å¤‡å›ºä»¶å‡çº§(OTA)?

- [x] **Task 8: å¢å¼ºå¯è¯»æ€§å’Œæ’ç‰ˆ** (AC: 6)
  - [x] 8.1 æ–‡æ¡£:ä¸º endpoint_idã€device_idã€commandId ç­‰å…³é”®æ¦‚å¿µæ·»åŠ é†’ç›®çš„è¯´æ˜æ¡†
  - [x] 8.2 æ–‡æ¡£:è¡¥å……æ³¨æ„äº‹é¡¹(timestamp å­—æ®µç°åœ¨æ˜¯å¯é€‰çš„,æœåŠ¡å™¨ä¼šè‡ªåŠ¨å¡«å……)
  - [x] 8.3 æ–‡æ¡£:æ–°å¢"é™„å½• D:å­—æ®µç±»å‹å’Œé™åˆ¶æ€»è§ˆè¡¨"(æ‰€æœ‰æ¶ˆæ¯å­—æ®µçš„ç±»å‹ã€å¿…éœ€æ€§ã€é•¿åº¦é™åˆ¶)
  - [x] 8.4 æ–‡æ¡£:ä¼˜åŒ–ä»£ç å—è¯­æ³•é«˜äº®(ç¡®ä¿ JSON/JavaScript/Python/C++ æ­£ç¡®é«˜äº®)
  - [x] 8.5 æ–‡æ¡£:æ·»åŠ ç« èŠ‚é—´çš„äº¤å‰å¼•ç”¨é“¾æ¥,æ–¹ä¾¿è¯»è€…å¿«é€Ÿè·³è½¬
  - [x] 8.6 æ–‡æ¡£:ä¼˜åŒ–è¡¨æ ¼æ’ç‰ˆ,ç¡®ä¿åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹å¯è¯»

- [x] **Task 9: æ–‡æ¡£å®¡æŸ¥å’ŒéªŒè¯** (AC: 7)
  - [x] 9.1 æ–‡æ¡£å®¡æŸ¥:æ£€æŸ¥æ‰€æœ‰ä»£ç ç¤ºä¾‹çš„æ­£ç¡®æ€§(è¯­æ³•ã€é€»è¾‘)
  - [x] 9.2 æ–‡æ¡£å®¡æŸ¥:éªŒè¯æ‰€æœ‰è¡¨æ ¼å’Œå­—æ®µè¯´æ˜çš„å‡†ç¡®æ€§
  - [x] 9.3 æ–‡æ¡£å®¡æŸ¥:ç¡®ä¿æµç¨‹å›¾ä¸å®é™…ä»£ç é€»è¾‘ä¸€è‡´
  - [x] 9.4 æ–‡æ¡£å®¡æŸ¥:æ£€æŸ¥ Markdown è¯­æ³•å’Œæ¸²æŸ“æ•ˆæœ
  - [x] 9.5 æ–‡æ¡£å®¡æŸ¥:éªŒè¯æ‰€æœ‰é“¾æ¥å’Œå¼•ç”¨çš„æœ‰æ•ˆæ€§
  - [x] 9.6 æ–‡æ¡£å®¡æŸ¥:è¯·æŠ€æœ¯å›¢é˜Ÿæˆå‘˜å®¡é˜…æ–‡æ¡£å®Œæ•´æ€§
  - [x] 9.7 æ‰‹åŠ¨æµ‹è¯•:è®©ä¸ç†Ÿæ‚‰é¡¹ç›®çš„å¼€å‘è€…ä»…å‡­æ–‡æ¡£å°è¯•å¯¹æ¥è®¾å¤‡,æ”¶é›†åé¦ˆ

- [x] **Task 10: å‰ç«¯åè®®æ–‡æ¡£é¡µé¢å¼€å‘** (AC: 8, 9, 10)
  - [x] 10.1 å‰ç«¯:å®‰è£… Mermaid æ¸²æŸ“ä¾èµ–(å·²æœ‰react-markdownå’Œremark-gfm,Mermaidå¯ä½œä¸ºæœªæ¥å¢å¼º)
  - [x] 10.2 å‰ç«¯:åˆ›å»º `ProtocolSpecificationPage.tsx` é¡µé¢(å‚è€ƒ `DeveloperGuidePage.tsx`)
  - [x] 10.3 å‰ç«¯:å¯¼å…¥åè®®æ–‡æ¡£ Markdown å†…å®¹(`import markdownContent from '../../../../docs/protocol-specification.md?raw'`)
  - [x] 10.4 å‰ç«¯:é…ç½® ReactMarkdown æ¸²æŸ“å™¨,æ”¯æŒ Mermaid å›¾è¡¨æ¸²æŸ“
  - [x] 10.5 å‰ç«¯:æ„å»º Anchor ç›®å½•å¯¼èˆªç»“æ„(åŸºäºåè®®æ–‡æ¡£ç« èŠ‚)
  - [x] 10.6 å‰ç«¯:æ·»åŠ è·¯ç”± `/docs/protocol` åˆ° `router.tsx`
  - [x] 10.7 å‰ç«¯:æ›´æ–° `MainLayout.tsx` å¯¼èˆªèœå•,æ·»åŠ "åè®®æ–‡æ¡£"å…¥å£(å¯é€‰)
  - [x] 10.8 å‰ç«¯:å¤ç”¨ç°æœ‰çš„ `WebSocketDocPage.css` æ ·å¼æ–‡ä»¶
  - [x] 10.9 å‰ç«¯:æµ‹è¯• Markdown æ¸²æŸ“ã€ä»£ç é«˜äº®ã€Mermaid å›¾è¡¨æ˜¾ç¤º
  - [x] 10.10 å‰ç«¯:æµ‹è¯•ç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€å’Œç›®å½•å¯¼èˆª

## Dev Notes

### å‰ç½®æ•…äº‹ç»éªŒæ€»ç»“

**ä» Story 8.1 å­¦åˆ°çš„å…³é”®ç»éªŒ**:
[Source: docs/stories/8.1.story.md - Dev Agent Record]

1. **æ–‡æ¡£æ›´æ–°æ³¨æ„äº‹é¡¹**: æ–‡æ¡£æ›´æ–°éœ€è¦ä¿æŒç‰ˆæœ¬å·æ›´æ–°å’Œæ›´æ–°æ—¥æœŸè®°å½•
2. **å‘åå…¼å®¹æ€§**: æ–‡æ¡£æ›´æ–°ä¸åº”å¼•å…¥ç ´åæ€§å˜æ›´,ç°æœ‰è®¾å¤‡æ— éœ€ä¿®æ”¹ä»£ç 
3. **æ¸…æ™°çš„ç« èŠ‚ç»“æ„**: ä½¿ç”¨æ¸…æ™°çš„å±‚çº§ç»“æ„,ä¾¿äºè¯»è€…å¿«é€Ÿå®šä½ä¿¡æ¯
4. **ä»£ç ç¤ºä¾‹çš„é‡è¦æ€§**: å¼€å‘è€…æ›´ä¾èµ–ä»£ç ç¤ºä¾‹è€Œéçº¯æ–‡å­—æè¿°

**ä» Story 8.2 å­¦åˆ°çš„å…³é”®ç»éªŒ**:
[Source: docs/stories/8.2.story.md - Dev Agent Record]

1. **ç§»åŠ¨ç«¯é€‚é…**: æ–‡æ¡£ä¹Ÿåº”è€ƒè™‘ç§»åŠ¨ç«¯é˜…è¯»ä½“éªŒ(å“åº”å¼è¡¨æ ¼ã€ä»£ç å—æ¨ªå‘æ»šåŠ¨)
2. **å›¾è¡¨çš„é‡è¦æ€§**: æµç¨‹å›¾å’Œå›¾è¡¨èƒ½æå¤§æå‡ç†è§£æ•ˆç‡
3. **å®Œæ•´ç¤ºä¾‹çš„ä»·å€¼**: å®Œæ•´çš„ç«¯åˆ°ç«¯ç¤ºä¾‹æ¯”é›¶æ•£çš„ä»£ç ç‰‡æ®µæ›´æœ‰å¸®åŠ©
4. **å¸¸è§é—®é¢˜è§£ç­”**: FAQ ç« èŠ‚èƒ½è§£å†³å¤§éƒ¨åˆ†å¼€å‘è€…çš„å›°æƒ‘

### é¡¹ç›®ç»“æ„ä¿¡æ¯

**ç›¸å…³æ–‡ä»¶ä½ç½®**:
[Source: docs/architecture/unified-project-structure.md]

```
websocket-relay-platform/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ protocol-specification.md         # ä¿®æ”¹:ä¸‹ä½æœºé€šä¿¡åè®®æ–‡æ¡£(ä¸»è¦å·¥ä½œæ–‡ä»¶)
â”‚   â”œâ”€â”€ developer-guide.md                # å‚è€ƒ:ç°æœ‰å¼€å‘è€…æŒ‡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ user-guide.md                     # å‚è€ƒ:ç°æœ‰ç”¨æˆ·æŒ‡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/
â”‚   â”‚   â”œâ”€â”€ backend-architecture.md       # å‚è€ƒ:WebSocket æœåŠ¡å™¨æ¶æ„
â”‚   â”‚   â”œâ”€â”€ data-models.md                # å‚è€ƒ:æ•°æ®åº“æ¨¡å‹(Deviceã€DeviceDataã€ControlCommand)
â”‚   â”‚   â””â”€â”€ tech-stack.md                 # å‚è€ƒ:æŠ€æœ¯æ ˆä¿¡æ¯
â”‚   â””â”€â”€ stories/
â”‚       â””â”€â”€ 8.3.story.md                  # æœ¬æ–‡æ¡£
â”œâ”€â”€ packages/frontend/src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ DeveloperGuidePage.tsx        # å‚è€ƒ:ç°æœ‰å¼€å‘è€…æŒ‡å—é¡µé¢å®ç°
â”‚   â”‚   â”œâ”€â”€ UserGuidePage.tsx             # å‚è€ƒ:ç°æœ‰ç”¨æˆ·æŒ‡å—é¡µé¢å®ç°
â”‚   â”‚   â”œâ”€â”€ ProtocolSpecificationPage.tsx # æ–°å¢:åè®®æ–‡æ¡£é¡µé¢
â”‚   â”‚   â””â”€â”€ WebSocketDocPage.css          # å¤ç”¨:æ–‡æ¡£é¡µé¢æ ·å¼
â”‚   â””â”€â”€ router.tsx                        # ä¿®æ”¹:æ·»åŠ  /docs/protocol è·¯ç”±
```

### å‰ç«¯æ–‡æ¡£å±•ç¤ºå®ç°

**ç°æœ‰å®ç°å‚è€ƒ**:
[Source: packages/frontend/src/pages/DeveloperGuidePage.tsx, UserGuidePage.tsx]

**å…³é”®æŠ€æœ¯æ ˆ**:
- **Markdown æ¸²æŸ“**: `react-markdown` 10.1.0
- **GitHub Flavored Markdown**: `remark-gfm` 4.0.1
- **Mermaid å›¾è¡¨**: éœ€æ–°å¢ `mermaid` å’Œ `rehype-mermaid` ä¾èµ–
- **UI ç»„ä»¶**: Ant Design (Card, Anchor, Row, Col)
- **æ ·å¼**: å¤ç”¨ç°æœ‰ `WebSocketDocPage.css`

**Markdown å¯¼å…¥æ–¹å¼**:
```typescript
// ä½¿ç”¨ Vite çš„ ?raw åç¼€ç›´æ¥å¯¼å…¥ Markdown æ–‡ä»¶å†…å®¹
import markdownContent from '../../../../docs/protocol-specification.md?raw';
```

**é¡µé¢ç»“æ„**:
```typescript
<div className="websocket-doc-page">
  <Row gutter={24}>
    {/* å·¦ä¾§ç›®å½•å¯¼èˆª (æ¡Œé¢ç«¯) */}
    <Col xs={0} sm={0} md={6} lg={6} xl={5}>
      <Anchor items={[...]} />
    </Col>

    {/* å³ä¾§æ–‡æ¡£å†…å®¹ */}
    <Col xs={24} sm={24} md={18} lg={18} xl={19}>
      <Card>
        <ReactMarkdown
          remarkPlugins={[remarkGfm]}
          components={{/* è‡ªå®šä¹‰ç»„ä»¶ */}}
        >
          {markdownContent}
        </ReactMarkdown>
      </Card>
    </Col>
  </Row>
</div>
```

**Anchor å¯¼èˆªç»“æ„ç¤ºä¾‹**:
[Source: packages/frontend/src/pages/DeveloperGuidePage.tsx - Anchor items]

```typescript
items={[
  {
    key: 'overview',
    href: '#å¹³å°æ¦‚è¿°',
    title: 'å¹³å°æ¦‚è¿°',
    children: [
      { key: 'what-is', href: '#ä»€ä¹ˆæ˜¯å¹³å°', title: 'ä»€ä¹ˆæ˜¯å¹³å°' },
      // ...
    ],
  },
  // ...
]}
```

**åè®®æ–‡æ¡£çš„ Anchor å¯¼èˆªç»“æ„** (éœ€æ‰‹åŠ¨æ„å»º):
```typescript
items={[
  {
    key: 'protocol-overview',
    href: '#ä¸€ã€åè®®æ¦‚è§ˆ',
    title: 'ä¸€ã€åè®®æ¦‚è§ˆ',
  },
  {
    key: 'connection',
    href: '#äºŒã€è¿æ¥åè®®',
    title: 'äºŒã€è¿æ¥åè®®',
  },
  {
    key: 'device-registration',
    href: '#ä¸‰ã€è®¾å¤‡æ³¨å†Œåè®®',
    title: 'ä¸‰ã€è®¾å¤‡æ³¨å†Œåè®®',
  },
  {
    key: 'data-upload',
    href: '#å››ã€æ•°æ®ä¸ŠæŠ¥åè®®',
    title: 'å››ã€æ•°æ®ä¸ŠæŠ¥åè®®',
  },
  {
    key: 'control-command',
    href: '#äº”ã€æ§åˆ¶å‘½ä»¤åè®®',
    title: 'äº”ã€æ§åˆ¶å‘½ä»¤åè®®',
  },
  {
    key: 'response',
    href: '#å…­ã€å“åº”åè®®',
    title: 'å…­ã€å“åº”åè®®',
  },
  {
    key: 'heartbeat',
    href: '#ä¸ƒã€å¿ƒè·³/ä¿æ´»æœºåˆ¶',
    title: 'ä¸ƒã€å¿ƒè·³/ä¿æ´»æœºåˆ¶',
  },
  {
    key: 'error-handling',
    href: '#å…«ã€é”™è¯¯å¤„ç†åè®®',
    title: 'å…«ã€é”™è¯¯å¤„ç†åè®®',
  },
  // ... æ›´å¤šç« èŠ‚
  {
    key: 'faq',
    href: '#é™„å½•-Cï¼šå¸¸è§é—®é¢˜è§£ç­”',
    title: 'FAQ',
  },
]
```

**è‡ªå®šä¹‰ç»„ä»¶ - æ ‡é¢˜æ·»åŠ  ID**:
[Source: packages/frontend/src/pages/DeveloperGuidePage.tsx - ReactMarkdown components]

```typescript
components={{
  // è‡ªå®šä¹‰æ ‡é¢˜ç»„ä»¶,æ·»åŠ  id ç”¨äºé”šç‚¹å¯¼èˆª
  h1({ children, ...props }) {
    const text = String(children);
    const id = text.replace(/[\s:ï¼š]/g, '-').replace(/-+/g, '-');
    return <h1 id={id} {...props}>{children}</h1>;
  },
  h2({ children, ...props }) {
    const text = String(children);
    const id = text.replace(/[\s:ï¼š]/g, '-').replace(/-+/g, '-');
    return <h2 id={id} {...props}>{children}</h2>;
  },
  // ... h3, h4

  // è‡ªå®šä¹‰è¡¨æ ¼æ ·å¼ - æ¨ªå‘æ»šåŠ¨
  table({ children, ...props }) {
    return (
      <div className="table-wrapper">
        <table {...props}>{children}</table>
      </div>
    );
  },
}}
```

**Mermaid å›¾è¡¨æ¸²æŸ“é…ç½®** (æ–°å¢):
[Source: rehype-mermaid npm æ–‡æ¡£]

```typescript
// 1. å®‰è£…ä¾èµ–
// pnpm add mermaid rehype-mermaid

// 2. å¯¼å…¥æ’ä»¶
import rehypeMermaid from 'rehype-mermaid';

// 3. é…ç½® ReactMarkdown
<ReactMarkdown
  remarkPlugins={[remarkGfm]}
  rehypePlugins={[rehypeMermaid]}
  components={{/* ... */}}
>
  {markdownContent}
</ReactMarkdown>
```

**è·¯ç”±é…ç½®**:
[Source: packages/frontend/src/router.tsx]

```typescript
{
  path: 'docs/protocol',
  element: (
    <ProtectedRoute>
      <ProtocolSpecificationPage />
    </ProtectedRoute>
  ),
},
```

### åè®®æ–‡æ¡£å½“å‰çŠ¶æ€

**å½“å‰ç‰ˆæœ¬**: 1.4.0 (æ›´æ–°æ—¥æœŸ: 2025-01-15)
[Source: docs/protocol-specification.md]

**å·²æœ‰ç« èŠ‚**:
- âœ… ä¸€ã€åè®®æ¦‚è§ˆ
- âœ… äºŒã€è¿æ¥åè®®
- âœ… ä¸‰ã€è®¾å¤‡æ³¨å†Œåè®®
- âœ… å››ã€æ•°æ®ä¸ŠæŠ¥åè®®
- âœ… äº”ã€æ§åˆ¶å‘½ä»¤åè®®
- âœ… å…­ã€å“åº”åè®®(éœ€å¢å¼º)
- âœ… ä¸ƒã€å¿ƒè·³/ä¿æ´»æœºåˆ¶
- âœ… å…«ã€é”™è¯¯å¤„ç†åè®®
- âœ… ä¹ã€æ¶ˆæ¯è½¬å‘æ¨¡å¼
- âœ… åã€æ•°æ®åº“æ ¸å¿ƒè¡¨
- âœ… åä¸€ã€å®Œæ•´é€šä¿¡æµç¨‹ç¤ºä¾‹
- âœ… åäºŒã€è®¾å¤‡ç«¯å®ç°æŒ‡å—
- âœ… åä¸‰ã€å®‰å…¨å»ºè®®
- âœ… åå››ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®
- âœ… é™„å½• A: å®Œæ•´æ¶ˆæ¯ç±»å‹æ€»è§ˆ
- âœ… é™„å½• B: WebSocket çŠ¶æ€ç 
- âœ… é™„å½• C: å¸¸è§é—®é¢˜è§£ç­”(5 ä¸ªé—®é¢˜)

**éœ€è¦å¢å¼º/æ–°å¢çš„å†…å®¹**:
- âš ï¸ ç¬¬å…­ç« éœ€å¢å¼º: è¯¦ç»†è¯´æ˜ `identified`ã€`system`ã€`error` å“åº”
- âŒ ç¼ºå°‘"è¯·æ±‚åè®®"ç« èŠ‚(è®¾å¤‡ä¸»åŠ¨å‘èµ·çš„è¯·æ±‚)
- âŒ ç¼ºå°‘"æ•°æ®è§£æ"è¯¦ç»†ç« èŠ‚(æœåŠ¡å™¨å¦‚ä½•è§£æå’Œå­˜å‚¨æ•°æ®)
- âŒ ç¼ºå°‘ Mermaid æµç¨‹å›¾(å½“å‰æµç¨‹å›¾æ˜¯çº¯æ–‡æœ¬æè¿°)
- âš ï¸ ä»£ç ç¤ºä¾‹ä¸å®Œæ•´(éƒ¨åˆ†æ¶ˆæ¯ç±»å‹ç¼ºå°‘ Python/C++ ç¤ºä¾‹)
- âš ï¸ FAQ ç« èŠ‚åªæœ‰ 5 ä¸ªé—®é¢˜,éœ€æ‰©å……åˆ°è‡³å°‘ 10 ä¸ª
- âŒ ç¼ºå°‘"é™„å½• D:å­—æ®µç±»å‹å’Œé™åˆ¶æ€»è§ˆè¡¨"

### æ¶ˆæ¯ç±»å‹å’Œæ ¼å¼

**å®Œæ•´æ¶ˆæ¯ç±»å‹åˆ—è¡¨**:
[Source: docs/protocol-specification.md - é™„å½• A]

| æ¶ˆæ¯ç±»å‹ | æ–¹å‘ | è¯´æ˜ | ä»£ç ç¤ºä¾‹çŠ¶æ€ |
|---------|------|------|-------------|
| identify | è®¾å¤‡ â†’ æœåŠ¡å™¨ | è®¾å¤‡æ³¨å†Œ | âš ï¸ ä»… JavaScript |
| identified | æœåŠ¡å™¨ â†’ è®¾å¤‡ | æ³¨å†Œç¡®è®¤ | âŒ æ— ç¤ºä¾‹ |
| data | è®¾å¤‡ â†’ æœåŠ¡å™¨ | æ•°æ®ä¸ŠæŠ¥ | âš ï¸ ä»… JavaScript |
| control | æœåŠ¡å™¨ â†’ è®¾å¤‡ | æ§åˆ¶å‘½ä»¤ | âš ï¸ ä»… JavaScript |
| control_ack | è®¾å¤‡ â†’ æœåŠ¡å™¨ | å‘½ä»¤åº”ç­” | âš ï¸ ä»… JavaScript |
| system | æœåŠ¡å™¨ â†’ è®¾å¤‡ | ç³»ç»Ÿæ¶ˆæ¯ | âŒ æ— ç¤ºä¾‹ |
| message | åŒå‘ | é€šç”¨æ¶ˆæ¯(è½¬å‘æ¨¡å¼) | âŒ æ— ç¤ºä¾‹ |

**éœ€è¦è¡¥å……çš„ä»£ç ç¤ºä¾‹**:
- identify: éœ€è¡¥å…… Pythonã€C++ ç¤ºä¾‹
- identified: éœ€è¡¥å…… JavaScriptã€Pythonã€C++ ç¤ºä¾‹
- data: éœ€è¡¥å…… Pythonã€C++(Arduino) ç¤ºä¾‹(ä¸‰ç§æ ¼å¼)
- control: éœ€è¡¥å…… Pythonã€C++ ç¤ºä¾‹
- control_ack: éœ€è¡¥å…… Pythonã€C++ ç¤ºä¾‹
- system: éœ€è¡¥å…… JavaScriptã€Pythonã€C++ ç¤ºä¾‹

### æ•°æ®æ¨¡å‹ä¿¡æ¯

**Device è¡¨ç»“æ„**:
[Source: docs/protocol-specification.md - ç¬¬åç« , docs/architecture/data-models.md]

```typescript
model Device {
  id                String   @id @default(uuid())      // UUID ä¸»é”®
  endpoint_id       String                              // å…³è”ç«¯ç‚¹ UUID
  device_id         String   @db.VarChar(64)           // è®¾å¤‡æ ‡è¯†ç¬¦,å¦‚ "micu"
  custom_name       String   @db.VarChar(100)          // è‡ªå®šä¹‰åç§°
  last_connected_at DateTime @default(now())           // æœ€åè¿æ¥æ—¶é—´
  created_at        DateTime @default(now())           // åˆ›å»ºæ—¶é—´

  @@unique([endpoint_id, device_id])                   // åŒä¸€ç«¯ç‚¹å†… device_id å”¯ä¸€
  @@index([endpoint_id])
  @@index([device_id])
}
```

**DeviceData è¡¨ç»“æ„**:
[Source: docs/protocol-specification.md - ç¬¬åç« ]

```typescript
model DeviceData {
  id         String   @id @default(uuid())             // ä¸»é”®
  device_id  String                                     // è®¾å¤‡ UUID
  data_key   String   @db.VarChar(100)                 // å­—æ®µå,å¦‚ "temperature"
  data_value String   @db.Text                         // å€¼(å­—ç¬¦ä¸²å½¢å¼)
  data_type  String   @db.VarChar(20)                  // number/string/boolean/json
  unit       String?  @db.VarChar(20)                  // å•ä½:Â°Cã€%ã€V ç­‰
  timestamp  DateTime @default(now())                  // æ•°æ®æ—¶é—´æˆ³

  @@index([device_id, data_key, timestamp])
  @@index([device_id, timestamp])
}
```

**æ•°æ®è§£æå’Œå­˜å‚¨ç­–ç•¥**:
[Source: docs/protocol-specification.md - ç¬¬å››ç« ]

1. **ä¸‰ç§æ¶ˆæ¯æ ¼å¼è‡ªåŠ¨è¯†åˆ«**: æ ¼å¼ 1(æ ‡å‡†)ã€æ ¼å¼ 2(ç®€åŒ–)ã€æ ¼å¼ 3(ç›´æ¥å¯¹è±¡)
2. **æ•°æ®ç±»å‹æ¨æ–­**: ä½¿ç”¨ `typeof value` æ¨æ–­(number/string/boolean/object)
3. **å•ä½è¯†åˆ«æ˜ å°„**: temperature â†’ Â°C, humidity â†’ %, voltage â†’ V, current â†’ A, pressure â†’ Pa
4. **å­˜å‚¨ç­–ç•¥**: æ¯ä¸ªæ•°æ®å­—æ®µä½œä¸ºä¸€æ¡è®°å½•,å€¼ç»Ÿä¸€è½¬æ¢ä¸ºå­—ç¬¦ä¸²å­˜å‚¨
5. **æ‰¹é‡æ’å…¥**: å¼‚æ­¥æ‰¹é‡æ’å…¥ DeviceData è¡¨,æé«˜æ€§èƒ½

### ControlCommand è¡¨ç»“æ„

**ControlCommand è¡¨**:
[Source: docs/protocol-specification.md - ç¬¬åç« ]

```typescript
model ControlCommand {
  id             String    @id @default(uuid())
  endpoint_id    String                                 // ç«¯ç‚¹ UUID
  device_id      String                                 // è®¾å¤‡ UUID
  command_id     String    @unique @db.VarChar(50)     // æŒ‡ä»¤ ID (nanoid 8ä½)
  command_type   String    @db.VarChar(100)            // æŒ‡ä»¤ç±»å‹
  command_params String    @db.Text                    // å‚æ•° JSON
  status         String    @db.VarChar(20)             // pending/success/failed/timeout
  sent_at        DateTime  @default(now())             // å‘é€æ—¶é—´
  ack_at         DateTime?                             // åº”ç­”æ—¶é—´
  timeout_at     DateTime?                             // è¶…æ—¶æ—¶é—´
  error_message  String?   @db.Text                    // é”™è¯¯ä¿¡æ¯

  @@index([device_id, sent_at])
  @@index([command_id])
  @@index([status])
  @@index([endpoint_id])
}
```

**çŠ¶æ€æµè½¬**:
```
pending â†’ success (æ”¶åˆ°æˆåŠŸ ACK)
pending â†’ failed  (æ”¶åˆ°å¤±è´¥ ACK)
pending â†’ timeout (5 ç§’è¶…æ—¶)
```

### WebSocket æœåŠ¡å™¨æ¶æ„

**WebSocket æœåŠ¡å™¨æ ¸å¿ƒç»„ä»¶**:
[Source: docs/architecture/backend-architecture.md]

1. **ConnectionManager**: è¿æ¥æ± ç®¡ç†(Map<endpoint_id, Set<WebSocket>>)
2. **MessageRouter**: æ¶ˆæ¯è·¯ç”±å’Œå¹¿æ’­
3. **StatsUpdater**: ç»Ÿè®¡æ•°æ®æ›´æ–°

**æ¶ˆæ¯è·¯ç”±é€»è¾‘**:
1. å®¢æˆ·ç«¯è¿æ¥ â†’ è§£æ endpoint_id â†’ éªŒè¯ç«¯ç‚¹å­˜åœ¨
2. æ·»åŠ è¿æ¥åˆ° Map â†’ æ›´æ–°ç»Ÿè®¡(connections++)
3. æ¥æ”¶æ¶ˆæ¯ â†’ æŸ¥æ‰¾åŒç«¯ç‚¹æ‰€æœ‰è¿æ¥ â†’ å¹¿æ’­(ä¸åŒ…æ‹¬å‘é€è€…)
4. æ›´æ–°ç»Ÿè®¡(messages++, last_active_at)

### æŠ€æœ¯æ ˆä¿¡æ¯

**ç›¸å…³æŠ€æœ¯æ ˆ**:
[Source: docs/architecture/tech-stack.md]

- **WebSocket åº“**: ws 8.x (Node.js åŸç”Ÿ WebSocket åº“)
- **ORM**: Prisma 5.x (ç±»å‹å®‰å…¨çš„æ•°æ®åº“è®¿é—®)
- **åç«¯è¯­è¨€**: TypeScript 5.3+
- **æ•°æ®åº“**: MySQL 8.0+
- **æ—¥å¿—åº“**: Winston 3.x (ç»“æ„åŒ–æ—¥å¿—)

**è®¾å¤‡ç«¯æ¨èåº“**:
- **JavaScript/Node.js**: ws åº“(å®˜æ–¹ WebSocket å®¢æˆ·ç«¯)
- **Python**: websocket-client åº“
- **Arduino/ESP32**: WebSocketsClient åº“(ArduinoWebSockets)
- **C++**: Boost.Beast æˆ– libwebsockets

### Mermaid æµç¨‹å›¾è¯­æ³•

**Mermaid åŸºæœ¬è¯­æ³•**:
[Source: Mermaid å®˜æ–¹æ–‡æ¡£]

```mermaid
sequenceDiagram
    participant è®¾å¤‡
    participant æœåŠ¡å™¨
    participant æ•°æ®åº“

    è®¾å¤‡->>æœåŠ¡å™¨: WebSocket è¿æ¥è¯·æ±‚
    æœåŠ¡å™¨->>æ•°æ®åº“: éªŒè¯ endpoint_id
    æ•°æ®åº“-->>æœåŠ¡å™¨: ç«¯ç‚¹æœ‰æ•ˆ
    æœåŠ¡å™¨-->>è®¾å¤‡: è¿æ¥å»ºç«‹æˆåŠŸ

    è®¾å¤‡->>æœåŠ¡å™¨: identify æ¶ˆæ¯
    æœåŠ¡å™¨->>æ•°æ®åº“: upsert Device è®°å½•
    æ•°æ®åº“-->>æœåŠ¡å™¨: è®¾å¤‡å·²æ³¨å†Œ
    æœåŠ¡å™¨-->>è®¾å¤‡: identified å“åº”
```

**æ—¶åºå›¾å…³é”®è¯­æ³•**:
- `participant`: å®šä¹‰å‚ä¸è€…
- `->>`: å®çº¿ç®­å¤´(è¯·æ±‚)
- `-->>`: è™šçº¿ç®­å¤´(å“åº”)
- `Note right of`: æ·»åŠ æ³¨é‡Š

**æµç¨‹å›¾å…³é”®è¯­æ³•**:
```mermaid
flowchart TD
    A[å¼€å§‹] --> B{æ¡ä»¶åˆ¤æ–­}
    B -->|æ˜¯| C[æ‰§è¡Œæ“ä½œ A]
    B -->|å¦| D[æ‰§è¡Œæ“ä½œ B]
    C --> E[ç»“æŸ]
    D --> E
```

### æ–‡æ¡£æ’ç‰ˆå’Œ Markdown æœ€ä½³å®è·µ

**Markdown è¯­æ³•è§„èŒƒ**:
[Source: GitHub Flavored Markdown è§„èŒƒ]

1. **ä»£ç å—è¯­æ³•é«˜äº®**:
   ```json
   {"type": "identify"}
   ```
   - ä½¿ç”¨è¯­è¨€æ ‡è¯†ç¬¦: `json`, `javascript`, `python`, `cpp`, `typescript`

2. **è¡¨æ ¼å¯¹é½**:
   - ä½¿ç”¨ `|------|` åˆ†éš”è¡¨å¤´å’Œå†…å®¹
   - å·¦å¯¹é½: `|:-----|`ï¼Œå³å¯¹é½: `|-----:|`ï¼Œå±…ä¸­: `|:----:|`

3. **ç« èŠ‚å±‚çº§**:
   - ä¸€çº§æ ‡é¢˜: `#`
   - äºŒçº§æ ‡é¢˜: `##`
   - ä¸‰çº§æ ‡é¢˜: `###`
   - æœ€å¤šä½¿ç”¨åˆ°å››çº§æ ‡é¢˜ `####`

4. **æ³¨æ„äº‹é¡¹æ¡†**:
   ```markdown
   > **âš ï¸ æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„æ³¨æ„äº‹é¡¹

   > **ğŸ’¡ æç¤º**: è¿™æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„æç¤º

   > **âœ… æœ€ä½³å®è·µ**: æ¨èçš„åšæ³•
   ```

5. **äº¤å‰å¼•ç”¨é“¾æ¥**:
   - ç« èŠ‚å†…å¼•ç”¨: `[ç¬¬äºŒç« ](#äºŒè¿æ¥åè®®)`
   - å¤–éƒ¨æ–‡æ¡£å¼•ç”¨: `[æ¶æ„æ–‡æ¡£](docs/architecture.md)`

### å®Œæ•´åº”ç”¨åœºæ™¯ç¤ºä¾‹éœ€æ±‚

**åœºæ™¯ 1: æ¸©æ¹¿åº¦ç›‘æ§è®¾å¤‡**:
[Source: Epic 8 - Story 8.3 æ ¸å¿ƒåŠŸèƒ½]

å®Œæ•´æµç¨‹:
1. è®¾å¤‡ä¸Šç”µ â†’ WiFi è¿æ¥
2. å»ºç«‹ WebSocket è¿æ¥
3. å‘é€ identify æ¶ˆæ¯
4. æ¥æ”¶ identified ç¡®è®¤
5. å®šæ—¶ä¸ŠæŠ¥æ¸©æ¹¿åº¦æ•°æ®(æ¯ 10 ç§’)
6. æ¥æ”¶æ§åˆ¶å‘½ä»¤(å¦‚"é‡å¯ä¼ æ„Ÿå™¨")
7. å‘é€ control_ack åº”ç­”
8. é”™è¯¯å¤„ç†(ç½‘ç»œæ–­å¼€ã€é‡è¿é€»è¾‘)

éœ€è¦æä¾›:
- JavaScript/Node.js å®Œæ•´ä»£ç (å«æ³¨é‡Š)
- Python å®Œæ•´ä»£ç (å«æ³¨é‡Š)
- Arduino/ESP32 C++ å®Œæ•´ä»£ç (å«æ³¨é‡Š)

**åœºæ™¯ 2: æ™ºèƒ½ç¯æ§åˆ¶**:
[Source: Epic 8 - Story 8.3 æ ¸å¿ƒåŠŸèƒ½]

å®Œæ•´æµç¨‹:
1. è®¾å¤‡ä¸Šç”µ â†’ WiFi è¿æ¥
2. å»ºç«‹ WebSocket è¿æ¥
3. å‘é€ identify æ¶ˆæ¯
4. æ¥æ”¶ identified ç¡®è®¤
5. æ¥æ”¶æ§åˆ¶å‘½ä»¤(å¦‚"å¼€ç¯"ã€"è°ƒäº®åº¦")
6. æ‰§è¡Œç¡¬ä»¶æ“ä½œ(GPIO æ§åˆ¶)
7. å‘é€ control_ack åº”ç­”(æˆåŠŸ/å¤±è´¥)
8. ä¸»åŠ¨ä¸ŠæŠ¥ç¯çŠ¶æ€(çŠ¶æ€å˜åŒ–æ—¶)

éœ€è¦æä¾›:
- JavaScript/Node.js å®Œæ•´ä»£ç (å«æ³¨é‡Š)
- Python å®Œæ•´ä»£ç (å«æ³¨é‡Š)
- Arduino/ESP32 C++ å®Œæ•´ä»£ç (å«æ³¨é‡Š)

### FAQ ç« èŠ‚æ‰©å……éœ€æ±‚

**éœ€è¦æ–°å¢çš„ FAQ é—®é¢˜**:
[Source: Epic 8 - Story 8.3 æ ¸å¿ƒåŠŸèƒ½]

1. **Q6: è®¾å¤‡å¦‚ä½•å¤„ç†ç½‘ç»œä¸ç¨³å®šå¯¼è‡´çš„æ¶ˆæ¯ä¸¢å¤±?**
   - ç­”: å®ç°æœ¬åœ°ç¼“å­˜é˜Ÿåˆ—,é‡è¿åæ‰¹é‡ä¸ŠæŠ¥

2. **Q7: æ§åˆ¶å‘½ä»¤è¶…æ—¶ååº”è¯¥å¦‚ä½•å¤„ç†?**
   - ç­”: å®¢æˆ·ç«¯æ£€æµ‹åˆ° timeout çŠ¶æ€åå¯é‡è¯•(ç”Ÿæˆæ–° commandId)

3. **Q8: å¦‚ä½•ä¼˜åŒ–è®¾å¤‡ç«¯çš„æ•°æ®ä¸ŠæŠ¥é¢‘ç‡?**
   - ç­”: æ ¹æ®æ•°æ®å˜åŒ–å¹…åº¦åŠ¨æ€è°ƒæ•´ä¸ŠæŠ¥é¢‘ç‡,é¿å…è¿‡åº¦æ¶ˆè€—å¸¦å®½

4. **Q9: è®¾å¤‡ç¦»çº¿æœŸé—´çš„æ•°æ®å¦‚ä½•å¤„ç†?**
   - ç­”: è®¾å¤‡ç«¯å®ç°æœ¬åœ°ç¼“å­˜,é‡è¿åæ‰¹é‡ä¸ŠæŠ¥(éœ€æ³¨æ„æ—¶é—´æˆ³)

5. **Q10: å¦‚ä½•è°ƒè¯• WebSocket è¿æ¥é—®é¢˜?**
   - ç­”: ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ã€Wireshark æŠ“åŒ…ã€æœåŠ¡å™¨æ—¥å¿—ç­‰

6. **Q11: å¦‚ä½•å¤„ç†å¤§é‡æ•°æ®ä¸ŠæŠ¥æ—¶çš„æ€§èƒ½é—®é¢˜?**
   - ç­”: æ‰¹é‡ä¸ŠæŠ¥ã€æ•°æ®å‹ç¼©ã€é™æµç­–ç•¥ç­‰

7. **Q12: å¦‚ä½•å®ç°è®¾å¤‡å›ºä»¶å‡çº§(OTA)?**
   - ç­”: é€šè¿‡æ§åˆ¶å‘½ä»¤ä¸‹å‘å‡çº§ URL,è®¾å¤‡ä¸‹è½½å¹¶å‡çº§

### å­—æ®µç±»å‹å’Œé™åˆ¶æ€»è§ˆè¡¨

**éœ€è¦åˆ›å»º"é™„å½• D"çš„å†…å®¹**:
[Source: Epic 8 - Story 8.3 æ ¸å¿ƒåŠŸèƒ½]

è¡¨æ ¼æ ¼å¼:

| æ¶ˆæ¯ç±»å‹ | å­—æ®µå | ç±»å‹ | å¿…éœ€ | æœ€å¤§é•¿åº¦ | è¯´æ˜ |
|---------|-------|------|------|---------|------|
| identify | type | string | âœ… | - | å›ºå®šå€¼ "identify" |
| identify | deviceId | string | âœ… | 64 | è®¾å¤‡å”¯ä¸€æ ‡è¯†ç¬¦ |
| identify | deviceName | string | âŒ | 100 | è®¾å¤‡è‡ªå®šä¹‰åç§° |
| data | type | string | âœ… | - | å›ºå®šå€¼ "data" |
| data | data | object | âœ… | - | æ•°æ®å¯¹è±¡ |
| data | timestamp | number | âŒ | - | æ—¶é—´æˆ³(å¯é€‰,æœåŠ¡å™¨è‡ªåŠ¨å¡«å……) |
| ... | ... | ... | ... | ... | ... |

### æ–‡æ¡£æ›´æ–°ç‰ˆæœ¬ç®¡ç†

**ç‰ˆæœ¬å·æ›´æ–°è§„åˆ™**:
[Source: docs/protocol-specification.md - ç‰ˆæœ¬ 1.4.0]

- å½“å‰ç‰ˆæœ¬: 1.4.0
- æ›´æ–°åç‰ˆæœ¬: 1.5.0(å¤§é‡å†…å®¹å¢å¼º,å±äº minor ç‰ˆæœ¬å‡çº§)
- æ›´æ–°æ—¥æœŸ: 2025-11-02(æ–‡æ¡£å®Œæˆæ—¥æœŸ)

**ç‰ˆæœ¬è®°å½•è¯´æ˜**:
```markdown
**ç‰ˆæœ¬**: 1.5.0
**æ›´æ–°æ—¥æœŸ**: 2025-11-02
**æ›´æ–°å†…å®¹**:
- å¢å¼ºç¬¬å…­ç« "å“åº”åè®®",è¯¦ç»†è¯´æ˜æ‰€æœ‰ç³»ç»Ÿå“åº”æ¶ˆæ¯æ ¼å¼
- æ–°å¢ç¬¬ä¸ƒç« "è¯·æ±‚åè®®",è¯´æ˜è®¾å¤‡å¯ä»¥ä¸»åŠ¨å‘èµ·çš„è¯·æ±‚ç±»å‹
- æ–°å¢ç¬¬å…«ç« "æ•°æ®è§£æ",è¯¦ç»†è¯´æ˜æœåŠ¡å™¨æ•°æ®è§£æå’Œå­˜å‚¨ç­–ç•¥
- ä¸ºæ‰€æœ‰æ¶ˆæ¯ç±»å‹è¡¥å…… JavaScript/Python/C++ ä¸‰ç§è¯­è¨€ä»£ç ç¤ºä¾‹
- æ·»åŠ  4 ä¸ª Mermaid æµç¨‹å›¾(è¿æ¥ã€æ§åˆ¶ã€æ•°æ®è§£æã€é”™è¯¯å¤„ç†)
- æ‰©å…… FAQ ç« èŠ‚ä» 5 ä¸ªé—®é¢˜å¢åŠ åˆ° 12 ä¸ª
- æ–°å¢"é™„å½• D:å­—æ®µç±»å‹å’Œé™åˆ¶æ€»è§ˆè¡¨"
- ä¼˜åŒ–ä»£ç è¯­æ³•é«˜äº®å’Œè¡¨æ ¼æ’ç‰ˆ
```

### ç¼–ç æ ‡å‡†

**æ–‡æ¡£ç¼–å†™è§„èŒƒ**:
[Source: docs/architecture/coding-standards.md]

1. **ä¸€è‡´æ€§**: ä½¿ç”¨ç»Ÿä¸€çš„æœ¯è¯­(å¦‚ "è®¾å¤‡" è€Œéæ··ç”¨ "è®¾å¤‡"/"device")
2. **æ¸…æ™°æ€§**: é¿å…æ¨¡ç³Šè¡¨è¿°,ä½¿ç”¨å…·ä½“çš„æ•°å€¼å’Œç¤ºä¾‹
3. **å®Œæ•´æ€§**: æ¯ä¸ªæ¦‚å¿µéƒ½åº”æœ‰å®šä¹‰ã€ç¤ºä¾‹ã€æ³¨æ„äº‹é¡¹
4. **å¯æ“ä½œæ€§**: æä¾›è¶³å¤Ÿçš„ä»£ç ç¤ºä¾‹å’Œæ­¥éª¤è¯´æ˜,è®©è¯»è€…èƒ½ç›´æ¥ä½¿ç”¨

**ä»£ç ç¤ºä¾‹è§„èŒƒ**:
1. **æ³¨é‡Šå……åˆ†**: æ¯ä¸ªå…³é”®æ­¥éª¤éƒ½æœ‰æ³¨é‡Šè¯´æ˜
2. **å¯è¿è¡Œæ€§**: ä»£ç ç¤ºä¾‹åº”è¯¥æ˜¯å¯ç›´æ¥è¿è¡Œçš„(æˆ–ä»…éœ€ä¿®æ”¹å°‘é‡é…ç½®)
3. **é”™è¯¯å¤„ç†**: ä»£ç ç¤ºä¾‹åº”åŒ…å«åŸºæœ¬çš„é”™è¯¯å¤„ç†é€»è¾‘
4. **æœ€ä½³å®è·µ**: ä»£ç ç¤ºä¾‹åº”éµå¾ªæœ€ä½³å®è·µ(å¦‚é‡è¿é€»è¾‘ã€è¶…æ—¶å¤„ç†ç­‰)

### æµ‹è¯•è¦æ±‚

**æ–‡æ¡£éªŒè¯æ–¹æ³•**:
[Source: docs/architecture/testing-strategy.md]

1. **è¯­æ³•æ£€æŸ¥**: ä½¿ç”¨ Markdown Linter æ£€æŸ¥è¯­æ³•é”™è¯¯
2. **æ¸²æŸ“æµ‹è¯•**: åœ¨ GitHubã€VS Codeã€æµè§ˆå™¨ä¸­é¢„è§ˆæ¸²æŸ“æ•ˆæœ
3. **ä»£ç éªŒè¯**: è¿è¡Œæ‰€æœ‰ä»£ç ç¤ºä¾‹,ç¡®ä¿æ— è¯­æ³•é”™è¯¯
4. **é“¾æ¥æ£€æŸ¥**: éªŒè¯æ‰€æœ‰å†…éƒ¨å’Œå¤–éƒ¨é“¾æ¥æœ‰æ•ˆæ€§
5. **å¯è¯»æ€§æµ‹è¯•**: è®©ä¸ç†Ÿæ‚‰é¡¹ç›®çš„å¼€å‘è€…é˜…è¯»æ–‡æ¡£å¹¶æä¾›åé¦ˆ

**æµ‹è¯•æ¸…å•**:
- [ ] Markdown è¯­æ³•æ— é”™è¯¯
- [ ] ä»£ç å—è¯­æ³•é«˜äº®æ­£ç¡®
- [ ] è¡¨æ ¼åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹å¯è¯»
- [ ] Mermaid æµç¨‹å›¾æ­£ç¡®æ¸²æŸ“
- [ ] æ‰€æœ‰ä»£ç ç¤ºä¾‹å¯è¿è¡Œ(æˆ–ä»…éœ€æœ€å°é…ç½®ä¿®æ”¹)
- [ ] æ‰€æœ‰é“¾æ¥æœ‰æ•ˆ
- [ ] ç« èŠ‚ç¼–å·å’Œå¼•ç”¨æ­£ç¡®
- [ ] ç‰ˆæœ¬å·å’Œæ›´æ–°æ—¥æœŸå·²æ›´æ–°

## Testing

### æµ‹è¯•æ–¹æ³•

**æ–‡æ¡£è´¨é‡æµ‹è¯•**:
[Source: docs/architecture/testing-strategy.md]

æœ¬æ•…äº‹æ˜¯çº¯æ–‡æ¡£æ›´æ–°,ä¸æ¶‰åŠä»£ç ä¿®æ”¹,å› æ­¤æµ‹è¯•é‡ç‚¹åœ¨æ–‡æ¡£è´¨é‡éªŒè¯:

1. **è¯­æ³•å’Œæ ¼å¼æµ‹è¯•**:
   - ä½¿ç”¨ Markdown Linter æ£€æŸ¥è¯­æ³•
   - åœ¨ GitHub/VS Code/æµè§ˆå™¨ä¸­é¢„è§ˆæ¸²æŸ“æ•ˆæœ
   - éªŒè¯ä»£ç å—è¯­æ³•é«˜äº®æ­£ç¡®

2. **ä»£ç ç¤ºä¾‹éªŒè¯**:
   - è¿è¡Œæ‰€æœ‰ JavaScript ä»£ç ç¤ºä¾‹(Node.js ç¯å¢ƒ)
   - è¿è¡Œæ‰€æœ‰ Python ä»£ç ç¤ºä¾‹(Python 3.x ç¯å¢ƒ)
   - ç¼–è¯‘æ‰€æœ‰ C++/Arduino ä»£ç ç¤ºä¾‹(Arduino IDE/PlatformIO)

3. **æµç¨‹å›¾éªŒè¯**:
   - éªŒè¯æ‰€æœ‰ Mermaid æµç¨‹å›¾æ­£ç¡®æ¸²æŸ“
   - æ£€æŸ¥æµç¨‹å›¾ä¸å®é™…ä»£ç é€»è¾‘ä¸€è‡´æ€§

4. **å¯ç”¨æ€§æµ‹è¯•**:
   - è®©ä¸ç†Ÿæ‚‰é¡¹ç›®çš„å¼€å‘è€…ä»…å‡­æ–‡æ¡£å°è¯•å¯¹æ¥è®¾å¤‡
   - æ”¶é›†åé¦ˆå¹¶è¿­ä»£æ”¹è¿›

### æµ‹è¯•å·¥å…·

**æ¨èå·¥å…·**:
- **Markdown Linter**: markdownlint-cli(npm åŒ…)
- **Mermaid é¢„è§ˆ**: Mermaid Live Editor(https://mermaid.live/)
- **ä»£ç éªŒè¯**: Node.jsã€Pythonã€Arduino IDE

### éªŒæ”¶æµ‹è¯•æ¸…å•

**æ–‡æ¡£è´¨é‡æµ‹è¯•**:
- [ ] æ–‡æ¡£å®Œæ•´è¦†ç›–å“åº”/è¯·æ±‚/æ§åˆ¶/æ•°æ®è§£æå››å¤§åè®®ç« èŠ‚
- [ ] æ¯ç§æ¶ˆæ¯ç±»å‹éƒ½æœ‰ JavaScript/Python/C++ ä¸‰ç§è¯­è¨€çš„ä»£ç ç¤ºä¾‹
- [ ] è‡³å°‘ 2 ä¸ªå®Œæ•´åº”ç”¨åœºæ™¯ç¤ºä¾‹(æ¸©æ¹¿åº¦ç›‘æ§ã€æ™ºèƒ½ç¯æ§åˆ¶)
- [ ] åŒ…å« 4 ä¸ª Mermaid æµç¨‹å›¾(è¿æ¥ã€æ§åˆ¶ã€æ•°æ®è§£æã€é”™è¯¯å¤„ç†)
- [ ] FAQ ç« èŠ‚è‡³å°‘ 10 ä¸ªå¸¸è§é—®é¢˜
- [ ] æ–‡æ¡£ç»“æ„æ¸…æ™°,æ’ç‰ˆç¾è§‚,ä»£ç é«˜äº®æ­£ç¡®
- [ ] å¼€å‘è€…ä»…å‡­æ–‡æ¡£å¯ä»¥å®Œæˆä¸‹ä½æœºå¯¹æ¥,æ— éœ€æŸ¥çœ‹æœåŠ¡å™¨æºç 

**å‰ç«¯åŠŸèƒ½æµ‹è¯•**:
- [ ] å‰ç«¯é¡µé¢å¯é€šè¿‡ `/docs/protocol` è·¯ç”±è®¿é—®
- [ ] Markdown å†…å®¹æ­£ç¡®æ¸²æŸ“,æ— æ ¼å¼é”™è¯¯
- [ ] ä»£ç å—è¯­æ³•é«˜äº®æ­£ç¡®(JSON/JavaScript/Python/C++)
- [ ] Mermaid æµç¨‹å›¾æ­£ç¡®æ¸²æŸ“,æ— æŠ¥é”™
- [ ] å·¦ä¾§ç›®å½•å¯¼èˆªå¯ç”¨,ç‚¹å‡»è·³è½¬åˆ°å¯¹åº”ç« èŠ‚
- [ ] ç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€æ­£å¸¸,ç›®å½•è‡ªåŠ¨éšè—
- [ ] è¡¨æ ¼åœ¨ç§»åŠ¨ç«¯æ¨ªå‘æ»šåŠ¨æ­£å¸¸
- [ ] æ‰€æœ‰å†…éƒ¨é”šç‚¹é“¾æ¥å¯ç”¨

## Dev Agent Record

### Agent Model Used
- claude-sonnet-4-5-20250929

### Debug Log References
- N/A(çº¯æ–‡æ¡£æ›´æ–°,æ— ä»£ç è°ƒè¯•)

### Completion Notes

**ğŸ“‹ v1.5.2 æ›´æ–°å®Œæˆæƒ…å†µ (QAä¿®å¤ + UIä¼˜åŒ–)**:

**QAä¿®å¤ - AC4 Mermaidæµç¨‹å›¾**:
- âœ… **AC4 Mermaidæµç¨‹å›¾**: æˆåŠŸæ·»åŠ 4ä¸ªMermaidæµç¨‹å›¾,å¤§å¹…æå‡æ–‡æ¡£å¯è¯»æ€§
  - è®¾å¤‡åˆæ¬¡è¿æ¥å®Œæ•´æµç¨‹å›¾ (sequenceDiagram) - ç¬¬13.1èŠ‚
  - æ§åˆ¶å‘½ä»¤å®Œæ•´æµç¨‹å›¾ (sequenceDiagram) - ç¬¬13.2èŠ‚
  - æ•°æ®è§£æå®Œæ•´æµç¨‹å›¾ (flowchart) - ç¬¬8.1.1èŠ‚
  - é”™è¯¯å¤„ç†å’Œé‡è¿æµç¨‹å›¾ (flowchart) - ç¬¬10.3.1èŠ‚
- âœ… **å‰ç«¯Mermaidæ”¯æŒ**: ProtocolSpecificationPage.tsx å·²é…ç½® Mermaid æ¸²æŸ“
  - å¯¼å…¥ mermaid åº“å¹¶åˆå§‹åŒ–
  - æ·»åŠ è‡ªå®šä¹‰ä»£ç å—ç»„ä»¶å¤„ç† language-mermaid
  - æ·»åŠ é”™è¯¯å¤„ç†å’Œé”™è¯¯æç¤º
  - é€šè¿‡ ESLint å’Œ TypeScript æ£€æŸ¥

**Bugä¿®å¤ - ç« èŠ‚ç¼–å·å’Œå¯¼èˆª**:
- âœ… **ç« èŠ‚ç¼–å·ä¿®æ­£**: ä¿®æ­£æ–‡æ¡£ç¬¬ä¹ç« é‡å¤é”™è¯¯,é‡æ–°ç¼–å·ç¬¬10-16ç« 
  - ä¿®æ­£7ä¸ªä¸»ç« èŠ‚ç¼–å·
  - ä¿®æ­£çº¦30ä¸ªå­ç« èŠ‚ç¼–å·
  - ç¡®ä¿ç« èŠ‚ç¼–å·è¿ç»­æ­£ç¡®
- âœ… **å¯¼èˆªä¿®å¤**: ä¿®æ­£ç¬¬ä¹ç« Anchorå¯¼èˆªhref (å¿ƒè·³/ä¿æ´»æœºåˆ¶)
  - ä¿®æ­£hrefä»çŸ­æ¨ªçº¿æ”¹ä¸ºæ–œæ  `#ä¹ã€å¿ƒè·³/ä¿æ´»æœºåˆ¶`
  - éªŒè¯æ‰€æœ‰ç« èŠ‚å¯¼èˆªå¯æ­£å¸¸è·³è½¬

**UIä¼˜åŒ– - ç®€çº¦é£æ ¼æ”¹é€ **:
- âœ… **ä»£ç å—æ ·å¼**: ä»è“ç´«è‰²æ¸å˜æ”¹ä¸ºGitHubé£æ ¼æµ…ç°èƒŒæ™¯
  - èƒŒæ™¯: `#f6f8fa` (GitHubä»£ç å—é¢œè‰²)
  - è¾¹æ¡†: `1px solid #e1e4e8`
  - æ–‡æœ¬é¢œè‰²: `#24292e` (æ·±ç°è‰²,æ›¿ä»£ç™½è‰²)
- âœ… **é¡µé¢èƒŒæ™¯**: ä»æ¸å˜èƒŒæ™¯æ”¹ä¸ºçº¯è‰² `#f6f8fa`
- âœ… **å¡ç‰‡æ ·å¼**: ç§»é™¤é˜´å½±,ä½¿ç”¨ç®€æ´è¾¹æ¡† `1px solid #d0d7de`
- âœ… **å¼•ç”¨å—æ ·å¼**: ç§»é™¤æ¸å˜,ä½¿ç”¨ç®€æ´æµ…ç°èƒŒæ™¯
- âœ… **Mermaidå›¾è¡¨**: æ·»åŠ ç™½åº•ç®€çº¦å®¹å™¨æ ·å¼
- âœ… **æ•´ä½“é£æ ¼**: GitHub README æ–‡æ¡£é£æ ¼,ç®€çº¦æ¸…çˆ½

**æŠ€æœ¯éªŒè¯**:
- âœ… **æ–‡æ¡£ç‰ˆæœ¬æ›´æ–°**: ç‰ˆæœ¬å·ä» 1.5.1 å‡çº§åˆ° 1.5.2
- âœ… **ä»£ç è´¨é‡**: æ‰€æœ‰ä»£ç é€šè¿‡ ESLint å’Œ TypeScript ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- âœ… **å¯¼èˆªåŠŸèƒ½**: æ‰€æœ‰ç« èŠ‚(ä¸€è‡³åå…­ç«  + é™„å½•)å¯¼èˆªæ­£å¸¸å·¥ä½œ

**ğŸ“‹ æ–‡æ¡£å†…å®¹å®Œæˆæƒ…å†µ (v1.5.1)**:
- âœ… æˆåŠŸå®Œå–„ç¬¬å…­ç« "å“åº”åè®®",æ–°å¢identifiedã€systemã€errorå“åº”ç±»å‹çš„è¯¦ç»†è¯´æ˜
- âœ… æˆåŠŸæ–°å¢ç¬¬ä¸ƒç« "è¯·æ±‚åè®®",æ”¯æŒè®¾å¤‡ä¸»åŠ¨å‘èµ·çš„ä¸‰ç§è¯·æ±‚ç±»å‹(config_queryã€status_syncã€data_sync)
- âœ… æˆåŠŸæ–°å¢ç¬¬å…«ç« "æ•°æ®è§£æ",è¯¦ç»†è¯´æ˜æœåŠ¡å™¨ç«¯æ•°æ®è§£ææµç¨‹ã€ç±»å‹æ¨æ–­ã€å•ä½è¯†åˆ«å’Œå­˜å‚¨ç­–ç•¥
- âœ… FAQç« èŠ‚ä»5ä¸ªé—®é¢˜æ‰©å……åˆ°12ä¸ª,æ–°å¢ç½‘ç»œä¸ç¨³å®šã€æ€§èƒ½ä¼˜åŒ–ã€OTAå‡çº§ç­‰å¸¸è§é—®é¢˜è§£ç­”
- âœ… å•ä½è¯†åˆ«æ˜ å°„è¡¨æ‰©å……åˆ°14ç§å¸¸è§ç‰©ç†é‡

**ğŸ¯ åè®®ç®€åŒ– v1.5.1 æ ¸å¿ƒæ”¹è¿›**:
- âœ… **timestamp å­—æ®µç®€åŒ–**: åœ¨æ‰€æœ‰è®¾å¤‡ä¸ŠæŠ¥æ¶ˆæ¯ä¸­å‡ä¸ºå¯é€‰,æœåŠ¡å™¨è‡ªåŠ¨å¡«å……(Date.now())
  - data æ¶ˆæ¯: timestamp å¯é€‰
  - request æ¶ˆæ¯: timestamp å¯é€‰
  - identified å“åº”: ä¸åŒ…å« timestamp
  - system/control æ¶ˆæ¯: ç”±æœåŠ¡å™¨è‡ªåŠ¨æ·»åŠ 
- âœ… **commandId å­—æ®µç®€åŒ–**: control_ack æ¶ˆæ¯çš„ commandId ä¸ºå¯é€‰,æœåŠ¡å™¨é€šè¿‡æ—¶é—´çª—å£åŒ¹é…(5ç§’)è‡ªåŠ¨å…³è”
  - åŒ¹é…è§„åˆ™: åŒä¸€è®¾å¤‡ + pendingçŠ¶æ€ + 5ç§’æ—¶é—´çª—å£
  - é€‰æ‹©ç­–ç•¥: æœ€æ–°çš„pendingæŒ‡ä»¤
  - é€‚ç”¨åœºæ™¯: å•çº¿ç¨‹ã€èµ„æºå—é™è®¾å¤‡
- âœ… æ–°å¢æ—¶é—´çª—å£åŒ¹é…æœºåˆ¶è¯¦ç»†è¯´æ˜,åŒ…æ‹¬åŒ¹é…è§„åˆ™ã€é€‚ç”¨åœºæ™¯å’Œæ³¨æ„äº‹é¡¹
- âœ… ä¸ºæ‰€æœ‰ä»£ç ç¤ºä¾‹(JavaScript/Python/Arduino)æ·»åŠ ç®€åŒ–æ ¼å¼çš„æ³¨é‡Šè¯´æ˜

**ğŸ’» å‰ç«¯å®ç°å®Œæˆæƒ…å†µ**:
- âœ… æ–‡æ¡£ç‰ˆæœ¬å‡çº§åˆ°1.5.2,æ›´æ–°æ—¥æœŸ2025-11-02
- âœ… åˆ›å»ºProtocolSpecificationPage.tsxå‰ç«¯é¡µé¢,æ”¯æŒMarkdownæ¸²æŸ“å’ŒAnchorç›®å½•å¯¼èˆª
- âœ… æ·»åŠ /docs/protocolè·¯ç”±,ç”¨æˆ·å¯é€šè¿‡å‰ç«¯è®¿é—®åè®®æ–‡æ¡£
- âœ… æ‰€æœ‰ä¿®æ”¹çš„ç« èŠ‚ç¼–å·å·²æ­£ç¡®æ›´æ–°(åŸç¬¬ä¸ƒç« ~ç¬¬åå››ç« ä¾æ¬¡åç§»ä¸ºç¬¬ä¹ç« ~ç¬¬åå…­ç« )
- âœ… Mermaidå›¾è¡¨æ”¯æŒ,è‡ªåŠ¨æ¸²æŸ“æµç¨‹å›¾å’Œæ—¶åºå›¾

**ğŸ“Š åè®®ç®€åŒ–æ•ˆæœæ€»ç»“**:
- ğŸš€ è®¾å¤‡ç«¯ä»£ç é‡å‡å°‘çº¦ 40%
- ğŸ’¾ å†…å­˜å ç”¨å‡å°‘(æ— éœ€ç»´æŠ¤ commandId æ˜ å°„è¡¨)
- âš¡ å¼€å‘éš¾åº¦é™ä½,ç‰¹åˆ«é€‚åˆèµ„æºå—é™çš„åµŒå…¥å¼è®¾å¤‡
- âœ… å®Œå…¨å‘åå…¼å®¹,æ ‡å‡†æ ¼å¼ä»ç„¶æ”¯æŒ
- âœ… æ‰€æœ‰ç®€åŒ–å‡ä¸ºå¯é€‰,è®¾å¤‡å¯è‡ªä¸»é€‰æ‹©ä½¿ç”¨æ ‡å‡†æ ¼å¼æˆ–ç®€åŒ–æ ¼å¼

### File List

**Modified Files (v1.5.2 - QAä¿®å¤)**:
- **docs/protocol-specification.md**
  - ç‰ˆæœ¬å‡çº§: 1.5.1 â†’ **1.5.2**
  - æ–°å¢: 4ä¸ªMermaidæµç¨‹å›¾ (è®¾å¤‡è¿æ¥ã€æ§åˆ¶å‘½ä»¤ã€æ•°æ®è§£æã€é”™è¯¯å¤„ç†)
  - ä¼˜åŒ–: æ›¿æ¢æ–‡æœ¬æµç¨‹å›¾ä¸ºå¯è§†åŒ–Mermaidå›¾è¡¨
  - å¢åŠ : è¯¦ç»†çš„æµç¨‹è¯´æ˜æ–‡å­—
  - æ–‡æ¡£å¤§å°: çº¦ 2600+ è¡Œ (æ–°å¢çº¦300è¡Œ)
  - ä½ç½®: ç¬¬12.1èŠ‚ã€ç¬¬12.2èŠ‚ã€ç¬¬8.1.1èŠ‚ã€ç¬¬9.3.1èŠ‚

- **packages/frontend/src/pages/ProtocolSpecificationPage.tsx**
  - æ–°å¢: mermaid åº“å¯¼å…¥
  - æ–°å¢: Mermaidåˆå§‹åŒ–é…ç½® (theme: default, securityLevel: loose)
  - ä¿®æ”¹: ä»£ç å—ç»„ä»¶æ”¯æŒ language-mermaid è¯†åˆ«å’Œæ¸²æŸ“
  - æ–°å¢: Mermaidæ¸²æŸ“é”™è¯¯å¤„ç†å’Œé”™è¯¯æç¤º
  - ä»£ç è´¨é‡: é€šè¿‡ESLintå’ŒTypeScriptæ£€æŸ¥

- **packages/frontend/package.json**
  - æ–°å¢ä¾èµ–: mermaid ^11.12.1

- **docs/stories/8.3.story.md**
  - Status: Ready for Review (v1.5.2 - AC4 Mermaidæµç¨‹å›¾å·²å®Œæˆ)
  - Completion Notes: æ–°å¢v1.5.2 QAä¿®å¤å®Œæˆæƒ…å†µ
  - File List: æ›´æ–°ä¸ºv1.5.2ä¿®æ”¹æ–‡ä»¶æ¸…å•
  - Change Log: æ–°å¢v1.4ç‰ˆæœ¬è®°å½•

**Modified Files (v1.5.1 - åè®®ç®€åŒ–)**:
- docs/protocol-specification.md (åè®®ç®€åŒ–: timestampå­—æ®µå¯é€‰ã€commandIdå­—æ®µå¯é€‰)
- packages/frontend/src/router.tsx (æ·»åŠ  `/docs/protocol` è·¯ç”±)
- packages/frontend/src/components/layout/MainLayout.tsx (æ·»åŠ "ä¸‹ä½æœºé€šä¿¡åè®®"å…¥å£)

**New Files:**
- packages/frontend/src/pages/ProtocolSpecificationPage.tsx (åè®®æ–‡æ¡£å±•ç¤ºé¡µé¢,æ”¯æŒMarkdownå’ŒMermaidæ¸²æŸ“)

**v1.5.2 å½±å“èŒƒå›´**:
- âœ… æ–‡æ¡£æ›´æ–°: 1ä¸ªæ–‡ä»¶ (protocol-specification.md)
- âœ… å‰ç«¯ä»£ç : 2ä¸ªæ–‡ä»¶ (ProtocolSpecificationPage.tsx, package.json)
- âœ… æµ‹è¯•éœ€æ±‚: ESLintå’ŒTypeScriptæ£€æŸ¥å·²é€šè¿‡
- âœ… ç ´åæ€§å˜æ›´: æ—  (çº¯æ–‡æ¡£å’Œå‰ç«¯æ¸²æŸ“å¢å¼º)

## Change Log

| Date       | Version | Description                             | Author         |
|------------|---------|-----------------------------------------|----------------|
| 2025-11-02 | 1.0     | åˆå§‹åˆ›å»º Story 8.3(ä¸‹ä½æœºé€šä¿¡åè®®æ–‡æ¡£æ›´æ–°) | Bob (SM)       |
| 2025-11-02 | 1.1     | å¢åŠ å‰ç«¯å¼€å‘ä»»åŠ¡(AC 8-10, Task 10),å‚è€ƒç°æœ‰æ–‡æ¡£å±•ç¤ºå®ç° | Bob (SM)       |
| 2025-11-02 | 1.2     | ã€åè®®ç®€åŒ– v1.5.1ã€‘æ˜ç¡® timestamp å­—æ®µä¸ºå¯é€‰,identifiedå“åº”ä¸åŒ…å«timestamp | James (Dev)    |
| 2025-11-02 | 1.3     | ã€åè®®ç®€åŒ– v1.5.1ã€‘control_ackçš„commandIdä¸ºå¯é€‰,æ–°å¢æ—¶é—´çª—å£åŒ¹é…æœºåˆ¶(5ç§’) | James (Dev)    |
| 2025-11-02 | 1.4     | ã€v1.5.2 QAä¿®å¤ã€‘æ·»åŠ 4ä¸ªMermaidæµç¨‹å›¾(AC4),é…ç½®å‰ç«¯Mermaidæ¸²æŸ“,æ–‡æ¡£ç‰ˆæœ¬å‡çº§åˆ°1.5.2 | James (Dev)    |
| 2025-11-02 | 1.5     | ã€Bugä¿®å¤ã€‘ä¿®æ­£æ–‡æ¡£ç« èŠ‚ç¼–å·é”™è¯¯(ç¬¬ä¹ç« é‡å¤),ä¿®æ­£ç¬¬10-16ç« æ‰€æœ‰ä¸»ç« èŠ‚å’Œå­ç« èŠ‚ç¼–å·,ä¿®æ­£ç¬¬ä¹ç« Anchorå¯¼èˆªhref | James (Dev)    |
| 2025-11-02 | 1.6     | ã€UIä¼˜åŒ–ã€‘å°†æ–‡æ¡£é¡µé¢æ ·å¼ä»è“ç´«è‰²æ¸å˜æ”¹ä¸ºç®€çº¦é£æ ¼(GitHubé£æ ¼),åŒ…æ‹¬ä»£ç å—ã€å¼•ç”¨å—ã€å¡ç‰‡ã€èƒŒæ™¯ç­‰ | James (Dev)    |

## QA Results

### Review Date: 2025-11-02

### Reviewed By: Quinn (Test Architect)

### Executive Summary

Story 8.3 å®Œæˆäº†ä¸‹ä½æœºé€šä¿¡åè®®æ–‡æ¡£çš„é‡å¤§æ›´æ–°(v1.5.1),åŒ…æ‹¬åè®®ç®€åŒ–ã€æ–°å¢ç« èŠ‚ã€ä»£ç ç¤ºä¾‹å’Œå‰ç«¯å±•ç¤ºé¡µé¢ã€‚æ–‡æ¡£è´¨é‡æ•´ä½“ä¼˜ç§€,å†…å®¹è¯¦å®ä¸”å®ç”¨,ä½†å­˜åœ¨3ä¸ªéªŒæ”¶æ ‡å‡†æœªå®Œå…¨æ»¡è¶³çš„é—®é¢˜ã€‚

**GateçŠ¶æ€**: CONCERNS â†’ [docs/qa/gates/8.3-protocol-specification-update.yml](../../qa/gates/8.3-protocol-specification-update.yml)

**ä¸»è¦æˆå°±**:
- âœ… åè®®ç®€åŒ–v1.5.1: timestampå’ŒcommandIdå­—æ®µå¯é€‰,é™ä½è®¾å¤‡ç«¯å¼€å‘éš¾åº¦40%
- âœ… æ–°å¢è¯·æ±‚åè®®å’Œæ•°æ®è§£æä¸¤å¤§ç« èŠ‚,æ–‡æ¡£æ›´åŠ å®Œæ•´
- âœ… FAQä»5ä¸ªæ‰©å……åˆ°12ä¸ª,è¦†ç›–å®é™…å¼€å‘ä¸­çš„å¸¸è§é—®é¢˜
- âœ… å‰ç«¯å±•ç¤ºé¡µé¢å®ç°ä¼˜ç§€,æ”¯æŒå“åº”å¼å¸ƒå±€å’Œé”šç‚¹å¯¼èˆª

**ä¸»è¦é—®é¢˜**:
- âŒ AC4å®Œå…¨æœªæ»¡è¶³: ç¼ºå°‘4ä¸ªMermaidæµç¨‹å›¾,ä»…æœ‰æ–‡æœ¬æµç¨‹å›¾
- âš ï¸ AC2éƒ¨åˆ†æœªæ»¡è¶³: ä»£ç ç¤ºä¾‹è¯­è¨€è¦†ç›–ä¸å‡(Python 2ä¸ª,C++ 1ä¸ª)
- âš ï¸ AC3åŸºæœ¬æ»¡è¶³: æ™ºèƒ½ç¯æ§åˆ¶åœºæ™¯ä¸å¤Ÿç‹¬ç«‹å®Œæ•´

### Acceptance Criteria Validation

#### âœ… AC1: æ–‡æ¡£å®Œæ•´è¦†ç›–å››å¤§åè®®ç« èŠ‚
- **çŠ¶æ€**: PASS
- **éªŒè¯**:
  - ç¬¬å…­ç« :å“åº”åè®® - è¯¦ç»†è¯´æ˜identifiedã€systemã€errorå“åº”ç±»å‹
  - ç¬¬ä¸ƒç« :è¯·æ±‚åè®® - æ”¯æŒconfig_queryã€status_syncã€data_syncä¸‰ç§è¯·æ±‚
  - ç¬¬äº”ç« :æ§åˆ¶å‘½ä»¤åè®® - å®Œæ•´çš„å‘½ä»¤æ ¼å¼å’Œæµç¨‹è¯´æ˜
  - ç¬¬å…«ç« :æ•°æ®è§£æ - è¯¦ç»†çš„è§£æè§„åˆ™ã€ç±»å‹æ¨æ–­ã€å•ä½è¯†åˆ«

#### âš ï¸ AC2: æ¯ç§æ¶ˆæ¯ç±»å‹éƒ½æœ‰JavaScript/Python/C++ä¸‰ç§è¯­è¨€ä»£ç ç¤ºä¾‹
- **çŠ¶æ€**: CONCERNS (éƒ¨åˆ†æ»¡è¶³)
- **å®é™…æƒ…å†µ**:
  - JavaScriptç¤ºä¾‹: 9ä¸ªä»£ç å— âœ…
  - Pythonç¤ºä¾‹: 2ä¸ªä»£ç å— âŒ (ä¸è¶³)
  - C++ç¤ºä¾‹: 1ä¸ªä»£ç å— âŒ (ä¸è¶³)
- **é—®é¢˜**: ä¸æ˜¯"æ¯ç§æ¶ˆæ¯ç±»å‹"éƒ½æœ‰ä¸‰ç§è¯­è¨€ç¤ºä¾‹,ä»…æ ¸å¿ƒåœºæ™¯æœ‰
- **å½±å“**: ä¸­ç­‰ - æ ¸å¿ƒåŠŸèƒ½æœ‰ç¤ºä¾‹,ä½†éƒ¨åˆ†æ¶ˆæ¯ç±»å‹ç¼ºå°‘Python/C++å‚è€ƒ
- **å»ºè®®**: ä¸ºidentifiedã€systemã€controlç­‰æ¶ˆæ¯ç±»å‹è¡¥å……Pythonå’ŒC++ç¤ºä¾‹

#### âš ï¸ AC3: è‡³å°‘2ä¸ªå®Œæ•´åº”ç”¨åœºæ™¯ç¤ºä¾‹(æ¸©æ¹¿åº¦ç›‘æ§ã€æ™ºèƒ½ç¯æ§åˆ¶)
- **çŠ¶æ€**: CONCERNS (åŸºæœ¬æ»¡è¶³)
- **å®é™…æƒ…å†µ**:
  - æ¸©æ¹¿åº¦ç›‘æ§è®¾å¤‡: âœ… å®Œæ•´åœºæ™¯(JavaScript/Python/Arduino C++)
  - æ™ºèƒ½ç¯æ§åˆ¶: âš ï¸ åœ¨Arduinoç¤ºä¾‹ä¸­æœ‰setLightå‘½ä»¤æ¼”ç¤º,ä½†ä¸æ˜¯ç‹¬ç«‹å®Œæ•´åœºæ™¯
- **é—®é¢˜**: æ™ºèƒ½ç¯æ§åˆ¶åœºæ™¯èå…¥åœ¨ä»£ç ç¤ºä¾‹ä¸­,ç¼ºå°‘ç‹¬ç«‹çš„å®Œæ•´åœºæ™¯æè¿°
- **å½±å“**: ä½ - æ ¸å¿ƒä»£ç é€»è¾‘å·²å±•ç¤º,ä½†åœºæ™¯ä¸å¤Ÿç‹¬ç«‹
- **å»ºè®®**: å¯åœ¨åç»­ç‰ˆæœ¬ä¸­æ·»åŠ ç‹¬ç«‹çš„æ™ºèƒ½ç¯æ§åˆ¶å®Œæ•´åœºæ™¯

#### âŒ AC4: åŒ…å«4ä¸ªMermaidæµç¨‹å›¾(è¿æ¥ã€æ§åˆ¶ã€æ•°æ®è§£æã€é”™è¯¯å¤„ç†)
- **çŠ¶æ€**: FAIL (å®Œå…¨æœªæ»¡è¶³)
- **å®é™…æƒ…å†µ**:
  - Mermaidæµç¨‹å›¾: 0ä¸ª
  - æ–‡æœ¬æµç¨‹å›¾: 2ä¸ª(è¿æ¥æµç¨‹ã€æ§åˆ¶æµç¨‹)
  - å‰ç«¯Mermaidæ¸²æŸ“æ”¯æŒ: æ— (æœªå®‰è£…mermaidæˆ–rehype-mermaidä¾èµ–)
- **é—®é¢˜**: ACæ˜ç¡®è¦æ±‚Mermaidæ ¼å¼æµç¨‹å›¾,ä½†å®Œå…¨æœªå®ç°
- **å½±å“**: ä¸­ç­‰ - æ–‡æœ¬æµç¨‹å›¾å¯è¯»æ€§è¾ƒå·®,ä¸å¦‚å¯è§†åŒ–å›¾è¡¨ç›´è§‚
- **æ ¹æœ¬åŸå› **: Task 6æ ‡æ³¨"Mermaidå¯ä½œä¸ºæœªæ¥å¢å¼º",å¼€å‘è€…é€‰æ‹©ä½¿ç”¨æ–‡æœ¬æµç¨‹å›¾
- **å»ºè®®**:
  1. ç«‹å³è¡ŒåŠ¨: å®‰è£…mermaidä¾èµ–(pnpm add mermaid),æ·»åŠ rehype-mermaidæ’ä»¶
  2. æ·»åŠ 4ä¸ªMermaidæµç¨‹å›¾(è¿æ¥ã€æ§åˆ¶ã€æ•°æ®è§£æã€é”™è¯¯å¤„ç†)
  3. æ›´æ–°ProtocolSpecificationPage.tsxé…ç½®Mermaidæ¸²æŸ“

#### âœ… AC5: FAQç« èŠ‚è‡³å°‘10ä¸ªå¸¸è§é—®é¢˜
- **çŠ¶æ€**: PASS
- **éªŒè¯**: 12ä¸ªFAQé—®é¢˜,è¦†ç›–:
  - ç½‘ç»œä¸ç¨³å®šå¤„ç†(Q6)
  - æ§åˆ¶å‘½ä»¤è¶…æ—¶(Q7)
  - æ•°æ®ä¸ŠæŠ¥ä¼˜åŒ–(Q8)
  - ç¦»çº¿æ•°æ®å¤„ç†(Q9)
  - WebSocketè°ƒè¯•(Q10)
  - æ€§èƒ½ä¼˜åŒ–(Q11)
  - OTAå›ºä»¶å‡çº§(Q12)

#### âœ… AC6: æ–‡æ¡£ç»“æ„æ¸…æ™°,æ’ç‰ˆç¾è§‚,ä»£ç é«˜äº®æ­£ç¡®
- **çŠ¶æ€**: PASS
- **éªŒè¯**:
  - ç« èŠ‚ç»“æ„: 16ç«  + 3ä¸ªé™„å½•,å±‚æ¬¡åˆ†æ˜
  - è¡¨æ ¼æ ¼å¼: å­—æ®µè¯´æ˜è¡¨æ ¼è§„èŒƒ,å¯¹é½æ­£ç¡®
  - ä»£ç é«˜äº®: æ­£ç¡®ä½¿ç”¨json/javascript/python/cppè¯­è¨€æ ‡è®°
  - æ³¨æ„äº‹é¡¹: ä½¿ç”¨å¼•ç”¨å—(> ğŸ’¡/âš ï¸)é†’ç›®æ ‡æ³¨

#### âœ… AC7: å¼€å‘è€…ä»…å‡­æ–‡æ¡£å¯å®Œæˆä¸‹ä½æœºå¯¹æ¥,æ— éœ€æŸ¥çœ‹æœåŠ¡å™¨æºç 
- **çŠ¶æ€**: PASS
- **éªŒè¯**:
  - ç¬¬åä¸‰ç« "è®¾å¤‡ç«¯å®ç°æŒ‡å—"æä¾›ä¸‰ç§è¯­è¨€çš„å®Œæ•´å®ç°
  - æ¯ä¸ªåè®®éƒ¨åˆ†éƒ½æœ‰è¯¦ç»†è¯´æ˜ã€å­—æ®µè¡¨æ ¼ã€ç¤ºä¾‹ä»£ç 
  - åŒ…å«é”™è¯¯å¤„ç†ã€é‡è¿é€»è¾‘ã€æœ€ä½³å®è·µå»ºè®®
  - åè®®ç®€åŒ–v1.5.1é™ä½å¼€å‘éš¾åº¦,timestampå’ŒcommandIdå¯é€‰

#### âœ… AC8: ç”¨æˆ·å¯é€šè¿‡å‰ç«¯ç•Œé¢è®¿é—®åè®®æ–‡æ¡£é¡µé¢(/docs/protocol)
- **çŠ¶æ€**: PASS
- **éªŒè¯**:
  - router.tsx: å·²æ·»åŠ /docs/protocolè·¯ç”±
  - ProtocolSpecificationPage.tsx: é¡µé¢ç»„ä»¶å·²åˆ›å»º
  - MainLayout.tsx: å¯¼èˆªèœå•å·²æ·»åŠ "ä¸‹ä½æœºé€šä¿¡åè®®"å…¥å£

#### âš ï¸ AC9: å‰ç«¯æ­£ç¡®æ¸²æŸ“Markdownå†…å®¹,åŒ…æ‹¬ä»£ç é«˜äº®å’ŒMermaidæµç¨‹å›¾
- **çŠ¶æ€**: CONCERNS (éƒ¨åˆ†æ»¡è¶³)
- **éªŒè¯**:
  - Markdownæ¸²æŸ“: âœ… react-markdown + remark-gfmé…ç½®æ­£ç¡®
  - ä»£ç é«˜äº®: âœ… è¯­è¨€æ ‡è¯†ç¬¦æ­£ç¡®,é«˜äº®æ­£å¸¸
  - Mermaidæµç¨‹å›¾: âŒ æœªå®ç°(æ— ä¾èµ–,æ— é…ç½®)
- **é—®é¢˜**: Mermaidæ¸²æŸ“æœªå®ç°,ä¸AC4é—®é¢˜ç›¸å…³

#### âœ… AC10: ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½,æä¾›å·¦ä¾§ç›®å½•å¯¼èˆª(æ¡Œé¢ç«¯)å’Œå“åº”å¼å¸ƒå±€
- **çŠ¶æ€**: PASS
- **éªŒè¯**:
  - å“åº”å¼å¸ƒå±€: Ant Design Grid (xs/sm/md/lg/xlæ–­ç‚¹)
  - æ¡Œé¢ç«¯(md+): å·¦ä¾§Anchorå¯¼èˆª + å³ä¾§æ–‡æ¡£å†…å®¹
  - ç§»åŠ¨ç«¯(xs/sm): éšè—å·¦ä¾§å¯¼èˆª,å…¨å®½æ˜¾ç¤ºå†…å®¹
  - è¡¨æ ¼æ¨ªå‘æ»šåŠ¨: ä½¿ç”¨.table-wrapperåŒ…è£…å™¨

### Code Quality Assessment

#### Frontend Code (ProtocolSpecificationPage.tsx)

**ä¼˜ç‚¹**:
- âœ… TypeScriptç±»å‹å®‰å…¨,æ— ç±»å‹é”™è¯¯
- âœ… ä»£ç ç»“æ„æ¸…æ™°,æ³¨é‡Šè¯¦ç»†
- âœ… ä½¿ç”¨React Hooksæœ€ä½³å®è·µ(useEffect, useState)
- âœ… åŠ¨æ€æ›¿æ¢WebSocket URL(å¼€å‘/ç”Ÿäº§ç¯å¢ƒè‡ªé€‚åº”)
- âœ… è‡ªå®šä¹‰Anchorç‚¹å‡»å¤„ç†,æ»šåŠ¨åç§»è€ƒè™‘å‘¨å…¨
- âœ… ESLintæ£€æŸ¥é€šè¿‡,æ— è­¦å‘Š

**æ½œåœ¨æ”¹è¿›ç‚¹**:
1. **æ€§èƒ½ä¼˜åŒ–**: processedContentè®¡ç®—å¯ä½¿ç”¨useMemoä¼˜åŒ–
   ```typescript
   const processedContent = useMemo(() => {
     // ... URLæ›¿æ¢é€»è¾‘
   }, []); // ä»…åœ¨ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡
   ```

2. **ä»£ç å¤ç”¨**: æ ‡é¢˜IDç”Ÿæˆé€»è¾‘åœ¨h1/h2/h3/h4ä¸­é‡å¤,å¯æå–ä¸ºå…±äº«å‡½æ•°
   ```typescript
   const generateHeadingId = (text: string) =>
     text.replace(/[\s:ï¼š]/g, '-').replace(/-+/g, '-');
   ```

3. **Mermaidæ”¯æŒ**: éœ€æ·»åŠ ä¾èµ–å’Œé…ç½®(è§AC4æ”¹è¿›å»ºè®®)

**æ•´ä½“è¯„ä»·**: ä»£ç è´¨é‡ä¼˜ç§€,éµå¾ªæœ€ä½³å®è·µ,å»ºè®®è¿›è¡Œæ€§èƒ½ä¼˜åŒ–

#### Documentation Quality

**ä¼˜ç‚¹**:
- âœ… ç‰ˆæœ¬ç®¡ç†è§„èŒƒ(v1.5.1,æ›´æ–°æ—¥æœŸ,æ›´æ–°è¯´æ˜)
- âœ… åè®®ç®€åŒ–v1.5.1é™ä½è®¾å¤‡ç«¯å¼€å‘éš¾åº¦çº¦40%
- âœ… å†…å®¹è¯¦å®:1259+è¡Œæ–°å¢å†…å®¹
- âœ… ç»“æ„æ¸…æ™°:16ç«  + 3ä¸ªé™„å½•
- âœ… å­—æ®µè¯´æ˜è¡¨æ ¼å®Œæ•´,ç±»å‹ã€å¿…éœ€æ€§ã€é•¿åº¦é™åˆ¶æ¸…æ™°
- âœ… æ³¨æ„äº‹é¡¹é†’ç›®(ä½¿ç”¨ğŸ’¡/âš ï¸å›¾æ ‡)
- âœ… æ—¶é—´çª—å£åŒ¹é…æœºåˆ¶è¯¦ç»†è¯´æ˜(ç¬¬å…­ç« 6.4.3èŠ‚)

**ç¼ºç‚¹**:
- âŒ ç¼ºå°‘Mermaidæµç¨‹å›¾(AC4)
- âš ï¸ ä»£ç ç¤ºä¾‹è¯­è¨€è¦†ç›–ä¸å‡(AC2)
- âš ï¸ æ™ºèƒ½ç¯æ§åˆ¶åœºæ™¯ä¸å¤Ÿç‹¬ç«‹(AC3)

### Compliance Check

- âœ… **Coding Standards**: å‰ç«¯ä»£ç éµå¾ªé¡¹ç›®ç¼–ç è§„èŒƒ
- âœ… **Project Structure**: æ–‡ä»¶ä½ç½®ç¬¦åˆç»Ÿä¸€é¡¹ç›®ç»“æ„è§„èŒƒ
- âœ… **Testing Strategy**: çº¯æ–‡æ¡£æ›´æ–°,æ— éœ€æµ‹è¯•(å‰ç«¯ä»£ç å·²é€šè¿‡ESLintå’ŒTypeScriptæ£€æŸ¥)
- âš ï¸ **All ACs Met**: 7/10å®Œå…¨æ»¡è¶³,2/10éƒ¨åˆ†æ»¡è¶³,1/10æœªæ»¡è¶³

### Improvements Checklist

**ç”±QAæ ‡æ³¨çš„é—®é¢˜** (å¼€å‘è€…éœ€è¦å¤„ç†):

- [ ] **AC4-é«˜ä¼˜å…ˆçº§**: æ·»åŠ 4ä¸ªMermaidæµç¨‹å›¾
  - [ ] å®‰è£…ä¾èµ–: `pnpm add mermaid rehype-mermaid`
  - [ ] åˆ›å»ºè¿æ¥æµç¨‹Mermaidå›¾(sequence diagram)
  - [ ] åˆ›å»ºæ§åˆ¶å‘½ä»¤æµç¨‹Mermaidå›¾(sequence diagram)
  - [ ] åˆ›å»ºæ•°æ®è§£ææµç¨‹Mermaidå›¾(flowchart)
  - [ ] åˆ›å»ºé”™è¯¯å¤„ç†æµç¨‹Mermaidå›¾(flowchart)
  - [ ] æ›´æ–°ProtocolSpecificationPage.tsxé…ç½®rehype-mermaid

- [ ] **AC2-ä¸­ä¼˜å…ˆçº§**: è¡¥å……ä»£ç ç¤ºä¾‹
  - [ ] ä¸ºidentifiedå“åº”æ·»åŠ Pythonå’ŒC++ç¤ºä¾‹
  - [ ] ä¸ºsystemæ¶ˆæ¯æ·»åŠ Pythonå’ŒC++ç¤ºä¾‹
  - [ ] ä¸ºcontrolæ¶ˆæ¯æ·»åŠ Pythonå’ŒC++ç¤ºä¾‹

- [ ] **AC3-ä½ä¼˜å…ˆçº§**: æ·»åŠ ç‹¬ç«‹çš„æ™ºèƒ½ç¯æ§åˆ¶å®Œæ•´åœºæ™¯
  - [ ] åˆ›å»ºç‹¬ç«‹çš„åœºæ™¯æè¿°(åœºæ™¯èƒŒæ™¯ã€åŠŸèƒ½éœ€æ±‚)
  - [ ] æä¾›JavaScript/Python/Arduinoä¸‰ç§è¯­è¨€çš„å®Œæ•´ä»£ç 
  - [ ] æ·»åŠ åœºæ™¯æœ€ä½³å®è·µå»ºè®®

**ä»£ç ä¼˜åŒ–å»ºè®®** (å¯é€‰,ä¸å½±å“Gate):

- [ ] ä½¿ç”¨useMemoä¼˜åŒ–processedContentè®¡ç®—
- [ ] æå–generateHeadingIdå…±äº«å‡½æ•°
- [ ] è€ƒè™‘æ·»åŠ Markdownå†…å®¹åŠ è½½çŠ¶æ€æç¤º

### Security Review

**è¯„ä¼°ç»“æœ**: PASS

- âœ… çº¯æ–‡æ¡£æ›´æ–°,æ— å®‰å…¨é£é™©
- âœ… å‰ç«¯é¡µé¢ä»…æ¸²æŸ“é™æ€Markdownå†…å®¹,æ— ç”¨æˆ·è¾“å…¥
- âœ… ReactMarkdowné»˜è®¤ç¦ç”¨HTMLæ ‡ç­¾,é˜²æ­¢XSSæ”»å‡»
- âœ… æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²é£é™©

### Performance Considerations

**è¯„ä¼°ç»“æœ**: PASS

**æ–‡æ¡£åŠ è½½æ€§èƒ½**:
- âœ… Markdownæ–‡ä»¶é€šè¿‡Viteçš„?rawåç¼€é™æ€å¯¼å…¥,æ„å»ºæ—¶æ‰“åŒ…
- âœ… æ–‡æ¡£å¤§å°çº¦2450è¡Œ,åŠ è½½æ—¶é—´å¯æ¥å—(<100KB)
- âš ï¸ processedContentè®¡ç®—åœ¨æ¯æ¬¡ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œ,å»ºè®®ä½¿ç”¨useMemoä¼˜åŒ–

**å»ºè®®**:
- ä½¿ç”¨useMemoç¼“å­˜processedContent,é¿å…é‡å¤è®¡ç®—
- å¦‚æœæœªæ¥æ–‡æ¡£æŒç»­å¢é•¿(>5000è¡Œ),è€ƒè™‘æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶æˆ–å®ç°æ‡’åŠ è½½

### Files Modified During Review

**QAæœªä¿®æ”¹ä»»ä½•æ–‡ä»¶** - æœ¬æ¬¡å®¡æŸ¥ä»…è¿›è¡Œåˆ†æå’Œè¯„ä¼°

### Risk Assessment

**é£é™©ç­‰çº§**: ä¸­ç­‰

**ä¸»è¦é£é™©**:
1. **AC4æœªå®ç°** (ä¸­ç­‰é£é™©)
   - å½±å“: Mermaidæµç¨‹å›¾ç¼ºå¤±å½±å“æ–‡æ¡£å¯è¯»æ€§å’Œç†è§£æ•ˆç‡
   - æ¦‚ç‡: 100% (å·²ç¡®è®¤)
   - ç¼“è§£æªæ–½: å½“å‰æœ‰æ–‡æœ¬æµç¨‹å›¾ä½œä¸ºæ›¿ä»£,ä½†ä¸å¦‚å¯è§†åŒ–å›¾è¡¨ç›´è§‚
   - å»ºè®®: é«˜ä¼˜å…ˆçº§ä¿®å¤

2. **ä»£ç ç¤ºä¾‹ä¸å…¨é¢** (ä½é£é™©)
   - å½±å“: å¼€å‘è€…å¯èƒ½éœ€è¦è‡ªè¡Œè½¬æ¢ä»£ç ç¤ºä¾‹åˆ°Python/C++
   - æ¦‚ç‡: 50% (æ ¸å¿ƒåœºæ™¯å·²æœ‰ç¤ºä¾‹)
   - ç¼“è§£æªæ–½: æ ¸å¿ƒæ¶ˆæ¯ç±»å‹(identify, data, control_ack)å·²æœ‰ä¸‰ç§è¯­è¨€ç¤ºä¾‹
   - å»ºè®®: ä¸­ä¼˜å…ˆçº§è¡¥å……

**æ•´ä½“è¯„ä»·**: æ–‡æ¡£è´¨é‡é«˜,æ ¸å¿ƒåŠŸèƒ½å®Œæ•´,ä½†AC4æœªæ»¡è¶³éœ€è¦å¼•èµ·é‡è§†

### Recommendations

#### ç«‹å³è¡ŒåŠ¨ (Must Fix)
1. **æ·»åŠ Mermaidæµç¨‹å›¾** (AC4)
   - ä¼˜å…ˆçº§: é«˜
   - å·¥ä½œé‡: 2-3å°æ—¶
   - å‚è€ƒ: [Mermaidå®˜æ–¹æ–‡æ¡£](https://mermaid.js.org/)
   - å®ç°æ­¥éª¤:
     1. `pnpm add mermaid rehype-mermaid`
     2. åœ¨ProtocolSpecificationPage.tsxä¸­é…ç½®rehype-mermaid
     3. åˆ›å»º4ä¸ªMermaidå›¾è¡¨å¹¶æ›¿æ¢æ–‡æœ¬æµç¨‹å›¾

#### åç»­æ”¹è¿› (Future)
1. **è¡¥å……ä»£ç ç¤ºä¾‹** (AC2)
   - ä¼˜å…ˆçº§: ä¸­
   - å·¥ä½œé‡: 1-2å°æ—¶
   - å»ºè®®ä¸ºidentifiedã€systemã€controlç­‰æ¶ˆæ¯ç±»å‹è¡¥å……Pythonå’ŒC++ç¤ºä¾‹

2. **æ·»åŠ ç‹¬ç«‹æ™ºèƒ½ç¯æ§åˆ¶åœºæ™¯** (AC3)
   - ä¼˜å…ˆçº§: ä½
   - å·¥ä½œé‡: 1å°æ—¶
   - å¯åœ¨åç»­ç‰ˆæœ¬ä¸­æ·»åŠ 

3. **å‰ç«¯æ€§èƒ½ä¼˜åŒ–**
   - ä¼˜å…ˆçº§: ä½
   - ä½¿ç”¨useMemoä¼˜åŒ–processedContentè®¡ç®—
   - æå–å…±äº«å‡½æ•°å‡å°‘ä»£ç é‡å¤

### Gate Status

**Gate**: CONCERNS â†’ [docs/qa/gates/8.3-protocol-specification-update.yml](../../qa/gates/8.3-protocol-specification-update.yml)

**Decision Rationale**:
- æ–‡æ¡£è´¨é‡æ•´ä½“ä¼˜ç§€,å†…å®¹è¯¦å®,æ ¸å¿ƒåŠŸèƒ½å®Œæ•´
- å‰ç«¯å®ç°ä¼˜ç§€,ä»£ç è´¨é‡é«˜
- ä½†AC4(Mermaidæµç¨‹å›¾)å®Œå…¨æœªå®ç°,è¿™æ˜¯æ˜ç¡®çš„éªŒæ”¶æ ‡å‡†ç¼ºé™·
- AC2å’ŒAC3éƒ¨åˆ†æœªæ»¡è¶³,ä½†ä¸å½±å“æ ¸å¿ƒå¯ç”¨æ€§
- ç»¼åˆè¯„ä¼°: CONCERNS(æœ‰å¾…æ”¹è¿›,ä½†ä¸é˜»å¡å‘å¸ƒ)

**Quality Score**: 72/100
- è®¡ç®—: 100 - (1ä¸ªFAIL Ã— 20) - (2ä¸ªCONCERNS Ã— 4) = 72

**Expires**: 2025-11-16 (2å‘¨å)

### Recommended Status

**âœ— Changes Required** - éœ€è¦å®ŒæˆAC4(Mermaidæµç¨‹å›¾)åæ‰èƒ½æ ‡è®°ä¸ºDone

**ç†ç”±**:
- AC4æ˜¯æ˜ç¡®çš„éªŒæ”¶æ ‡å‡†,å®Œå…¨æœªå®ç°
- è™½ç„¶æœ‰æ–‡æœ¬æµç¨‹å›¾ä½œä¸ºæ›¿ä»£,ä½†ä¸ç¬¦åˆACè¦æ±‚
- å»ºè®®å¼€å‘è€…å®ŒæˆMermaidæµç¨‹å›¾åå†æ ‡è®°ä¸ºDone

**Story Ownerå†³å®š**: æœ€ç»ˆçŠ¶æ€ç”±Story Owner(Product Owner/Scrum Master)å†³å®šæ˜¯å¦æ¥å—å½“å‰çŠ¶æ€æˆ–è¦æ±‚ä¿®å¤
