# ================================
# Frontend Environment Variables
# ================================
# Copy this file to packages/frontend/.env.local and update values

# Backend API URL (for REST API calls)
VITE_API_URL=http://localhost:3000/api

# WebSocket Server URL (for real-time connections)
VITE_WS_URL=ws://localhost:3001

# ================================
# Backend Environment Variables
# ================================
# Copy this file to packages/backend/.env and update values

# Database Connection
# Format: mysql://username:password@host:port/database_name?connection_limit=N&pool_timeout=N
# Story 9.2: Prisma connection pool configuration for optimal performance
# - connection_limit: Maximum number of database connections in the pool (default: 20)
# - pool_timeout: Seconds to wait for an available connection before timeout (default: 30)
DATABASE_URL="mysql://user:password@localhost:3306/websocket_relay?connection_limit=20&pool_timeout=30"

# JWT Authentication
# IMPORTANT: Change this to a strong random string in production
JWT_SECRET=your-super-secret-key-change-in-production
# Token expiration time (examples: 7d, 24h, 60m)
JWT_EXPIRES_IN=7d

# Server Ports
# REST API server port
API_PORT=3000
# WebSocket server port
WS_PORT=3001

# CORS Configuration
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# WebSocket Base URL
# Used for generating WebSocket connection URLs
WS_BASE_URL=ws://localhost:3001

# Logging
# Options: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=debug

# Performance Optimization (Story 9.2)
# Statistics Batch Update Configuration
# Reduces database writes by 50-100x through batching

# Flush interval in milliseconds (how often to write batched stats to database)
# Default: 5000 (5 seconds)
STATS_BATCH_INTERVAL=5000

# Batch size threshold (immediate flush when this many updates are accumulated)
# Default: 100
STATS_BATCH_SIZE=100

# ================================
# Production Notes
# ================================
# In production, make sure to:
# 1. Use HTTPS/WSS instead of HTTP/WS
# 2. Generate a strong JWT_SECRET (e.g., using openssl rand -base64 32)
# 3. Set LOG_LEVEL to 'info' or 'warn'
# 4. Configure DATABASE_URL with production credentials
# 5. Update ALLOWED_ORIGINS to match your production domain
